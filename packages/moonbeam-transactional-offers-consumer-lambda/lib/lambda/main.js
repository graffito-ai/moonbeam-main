"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const OfferRedeemedProcessorHandler_1 = require("./handlers/OfferRedeemedProcessorHandler");
/**
 * Lambda Function handler, handling incoming events, from the transactions SQS
 * queue, and thus, processing incoming offer redeemed transactional messages.
 *
 * @param event SQS event to be passed in the handler
 * @returns a {@link Promise} containing a {@link SQSBatchResponse}
 */
exports.handler = async (event) => {
    console.log(`Received new transaction message from transactions SQS queue, with number of records ${event.Records.length}, id: ${event.Records[0].messageId}, contents: ${event.Records[0].body}`);
    // process offer redeemed based transactions
    return await (0, OfferRedeemedProcessorHandler_1.processOfferRedeemedTransactions)(event);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sYW1iZGEvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDRGQUEwRjtBQUUxRjs7Ozs7O0dBTUc7QUFDSCxPQUFPLENBQUMsT0FBTyxHQUFHLEtBQUssRUFBRSxLQUFlLEVBQTZCLEVBQUU7SUFDbkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3RkFBd0YsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLFNBQVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLGVBQWUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRW5NLDRDQUE0QztJQUM1QyxPQUFPLE1BQU0sSUFBQSxnRUFBZ0MsRUFBQyxLQUFLLENBQUMsQ0FBQztBQUN6RCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NRU0JhdGNoUmVzcG9uc2UsIFNRU0V2ZW50fSBmcm9tICdhd3MtbGFtYmRhJztcbmltcG9ydCB7cHJvY2Vzc09mZmVyUmVkZWVtZWRUcmFuc2FjdGlvbnN9IGZyb20gXCIuL2hhbmRsZXJzL09mZmVyUmVkZWVtZWRQcm9jZXNzb3JIYW5kbGVyXCI7XG5cbi8qKlxuICogTGFtYmRhIEZ1bmN0aW9uIGhhbmRsZXIsIGhhbmRsaW5nIGluY29taW5nIGV2ZW50cywgZnJvbSB0aGUgdHJhbnNhY3Rpb25zIFNRU1xuICogcXVldWUsIGFuZCB0aHVzLCBwcm9jZXNzaW5nIGluY29taW5nIG9mZmVyIHJlZGVlbWVkIHRyYW5zYWN0aW9uYWwgbWVzc2FnZXMuXG4gKlxuICogQHBhcmFtIGV2ZW50IFNRUyBldmVudCB0byBiZSBwYXNzZWQgaW4gdGhlIGhhbmRsZXJcbiAqIEByZXR1cm5zIGEge0BsaW5rIFByb21pc2V9IGNvbnRhaW5pbmcgYSB7QGxpbmsgU1FTQmF0Y2hSZXNwb25zZX1cbiAqL1xuZXhwb3J0cy5oYW5kbGVyID0gYXN5bmMgKGV2ZW50OiBTUVNFdmVudCk6IFByb21pc2U8U1FTQmF0Y2hSZXNwb25zZT4gPT4ge1xuICAgIGNvbnNvbGUubG9nKGBSZWNlaXZlZCBuZXcgdHJhbnNhY3Rpb24gbWVzc2FnZSBmcm9tIHRyYW5zYWN0aW9ucyBTUVMgcXVldWUsIHdpdGggbnVtYmVyIG9mIHJlY29yZHMgJHtldmVudC5SZWNvcmRzLmxlbmd0aH0sIGlkOiAke2V2ZW50LlJlY29yZHNbMF0ubWVzc2FnZUlkfSwgY29udGVudHM6ICR7ZXZlbnQuUmVjb3Jkc1swXS5ib2R5fWApO1xuXG4gICAgLy8gcHJvY2VzcyBvZmZlciByZWRlZW1lZCBiYXNlZCB0cmFuc2FjdGlvbnNcbiAgICByZXR1cm4gYXdhaXQgcHJvY2Vzc09mZmVyUmVkZWVtZWRUcmFuc2FjdGlvbnMoZXZlbnQpO1xufVxuIl19