"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const UpdatedOfferRedeemedProcessorHandler_1 = require("./handlers/UpdatedOfferRedeemedProcessorHandler");
/**
 * Lambda Function handler, handling incoming events, from the updated transactions SQS
 * queue, and thus, processing incoming updated offer redeemed transactional messages.
 *
 * @param event SQS event to be passed in the handler
 * @returns a {@link Promise} containing a {@link SQSBatchResponse}
 */
exports.handler = async (event) => {
    console.log(`Received new updated transaction message from transactions SQS queue, with number of records ${event.Records.length}, id: ${event.Records[0].messageId}, contents: ${event.Records[0].body}`);
    // process offer redeemed based transactions
    return await (0, UpdatedOfferRedeemedProcessorHandler_1.processUpdatedOfferRedeemedTransactions)(event);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sYW1iZGEvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDBHQUF3RztBQUV4Rzs7Ozs7O0dBTUc7QUFDSCxPQUFPLENBQUMsT0FBTyxHQUFHLEtBQUssRUFBRSxLQUFlLEVBQTZCLEVBQUU7SUFDbkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnR0FBZ0csS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLFNBQVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLGVBQWUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRTNNLDRDQUE0QztJQUM1QyxPQUFPLE1BQU0sSUFBQSw4RUFBdUMsRUFBQyxLQUFLLENBQUMsQ0FBQztBQUNoRSxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NRU0JhdGNoUmVzcG9uc2UsIFNRU0V2ZW50fSBmcm9tICdhd3MtbGFtYmRhJztcbmltcG9ydCB7cHJvY2Vzc1VwZGF0ZWRPZmZlclJlZGVlbWVkVHJhbnNhY3Rpb25zfSBmcm9tIFwiLi9oYW5kbGVycy9VcGRhdGVkT2ZmZXJSZWRlZW1lZFByb2Nlc3NvckhhbmRsZXJcIjtcblxuLyoqXG4gKiBMYW1iZGEgRnVuY3Rpb24gaGFuZGxlciwgaGFuZGxpbmcgaW5jb21pbmcgZXZlbnRzLCBmcm9tIHRoZSB1cGRhdGVkIHRyYW5zYWN0aW9ucyBTUVNcbiAqIHF1ZXVlLCBhbmQgdGh1cywgcHJvY2Vzc2luZyBpbmNvbWluZyB1cGRhdGVkIG9mZmVyIHJlZGVlbWVkIHRyYW5zYWN0aW9uYWwgbWVzc2FnZXMuXG4gKlxuICogQHBhcmFtIGV2ZW50IFNRUyBldmVudCB0byBiZSBwYXNzZWQgaW4gdGhlIGhhbmRsZXJcbiAqIEByZXR1cm5zIGEge0BsaW5rIFByb21pc2V9IGNvbnRhaW5pbmcgYSB7QGxpbmsgU1FTQmF0Y2hSZXNwb25zZX1cbiAqL1xuZXhwb3J0cy5oYW5kbGVyID0gYXN5bmMgKGV2ZW50OiBTUVNFdmVudCk6IFByb21pc2U8U1FTQmF0Y2hSZXNwb25zZT4gPT4ge1xuICAgIGNvbnNvbGUubG9nKGBSZWNlaXZlZCBuZXcgdXBkYXRlZCB0cmFuc2FjdGlvbiBtZXNzYWdlIGZyb20gdHJhbnNhY3Rpb25zIFNRUyBxdWV1ZSwgd2l0aCBudW1iZXIgb2YgcmVjb3JkcyAke2V2ZW50LlJlY29yZHMubGVuZ3RofSwgaWQ6ICR7ZXZlbnQuUmVjb3Jkc1swXS5tZXNzYWdlSWR9LCBjb250ZW50czogJHtldmVudC5SZWNvcmRzWzBdLmJvZHl9YCk7XG5cbiAgICAvLyBwcm9jZXNzIG9mZmVyIHJlZGVlbWVkIGJhc2VkIHRyYW5zYWN0aW9uc1xuICAgIHJldHVybiBhd2FpdCBwcm9jZXNzVXBkYXRlZE9mZmVyUmVkZWVtZWRUcmFuc2FjdGlvbnMoZXZlbnQpO1xufVxuIl19