"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ReimbursementProcessorHandler_1 = require("./handlers/ReimbursementProcessorHandler");
/**
 * Lambda Function handler, handling incoming events, from the reimbursements SQS
 * queue, and thus, processing incoming reimbursement related messages.
 *
 * @param event SQS event to be passed in the handler
 * @returns a {@link Promise} containing a {@link SQSBatchResponse}
 */
exports.handler = async (event) => {
    console.log(`Received new reimbursement message from reimbursements SQS queue, with number of records ${event.Records.length}, id: ${event.Records[0].messageId}, contents: ${event.Records[0].body}`);
    // process reimbursements
    return await (0, ReimbursementProcessorHandler_1.processReimbursements)(event);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sYW1iZGEvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDRGQUErRTtBQUUvRTs7Ozs7O0dBTUc7QUFDSCxPQUFPLENBQUMsT0FBTyxHQUFHLEtBQUssRUFBRSxLQUFlLEVBQTZCLEVBQUU7SUFDbkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0RkFBNEYsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLFNBQVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLGVBQWUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRXZNLHlCQUF5QjtJQUN6QixPQUFPLE1BQU0sSUFBQSxxREFBcUIsRUFBQyxLQUFLLENBQUMsQ0FBQztBQUM5QyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NRU0JhdGNoUmVzcG9uc2UsIFNRU0V2ZW50fSBmcm9tICdhd3MtbGFtYmRhJztcbmltcG9ydCB7cHJvY2Vzc1JlaW1idXJzZW1lbnRzfSBmcm9tIFwiLi9oYW5kbGVycy9SZWltYnVyc2VtZW50UHJvY2Vzc29ySGFuZGxlclwiO1xuXG4vKipcbiAqIExhbWJkYSBGdW5jdGlvbiBoYW5kbGVyLCBoYW5kbGluZyBpbmNvbWluZyBldmVudHMsIGZyb20gdGhlIHJlaW1idXJzZW1lbnRzIFNRU1xuICogcXVldWUsIGFuZCB0aHVzLCBwcm9jZXNzaW5nIGluY29taW5nIHJlaW1idXJzZW1lbnQgcmVsYXRlZCBtZXNzYWdlcy5cbiAqXG4gKiBAcGFyYW0gZXZlbnQgU1FTIGV2ZW50IHRvIGJlIHBhc3NlZCBpbiB0aGUgaGFuZGxlclxuICogQHJldHVybnMgYSB7QGxpbmsgUHJvbWlzZX0gY29udGFpbmluZyBhIHtAbGluayBTUVNCYXRjaFJlc3BvbnNlfVxuICovXG5leHBvcnRzLmhhbmRsZXIgPSBhc3luYyAoZXZlbnQ6IFNRU0V2ZW50KTogUHJvbWlzZTxTUVNCYXRjaFJlc3BvbnNlPiA9PiB7XG4gICAgY29uc29sZS5sb2coYFJlY2VpdmVkIG5ldyByZWltYnVyc2VtZW50IG1lc3NhZ2UgZnJvbSByZWltYnVyc2VtZW50cyBTUVMgcXVldWUsIHdpdGggbnVtYmVyIG9mIHJlY29yZHMgJHtldmVudC5SZWNvcmRzLmxlbmd0aH0sIGlkOiAke2V2ZW50LlJlY29yZHNbMF0ubWVzc2FnZUlkfSwgY29udGVudHM6ICR7ZXZlbnQuUmVjb3Jkc1swXS5ib2R5fWApO1xuXG4gICAgLy8gcHJvY2VzcyByZWltYnVyc2VtZW50c1xuICAgIHJldHVybiBhd2FpdCBwcm9jZXNzUmVpbWJ1cnNlbWVudHMoZXZlbnQpO1xufVxuIl19