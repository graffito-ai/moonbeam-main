"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const OfferRedeemedNotificationProcessorHandler_1 = require("./handlers/OfferRedeemedNotificationProcessorHandler");
/**
 * Lambda Function handler, handling incoming events, from the transactions notifications SQS
 * queue, and thus, processing incoming notifications for offer redeemed transactional messages.
 *
 * @param event SQS event to be passed in the handler
 * @returns a {@link Promise} containing a {@link SQSBatchResponse}
 */
exports.handler = async (event) => {
    console.log(`Received new transaction notification message from transactions SQS queue, with number of records ${event.Records.length}, id: ${event.Records[0].messageId}, contents: ${event.Records[0].body}`);
    // process offer redeemed based transactions
    return await (0, OfferRedeemedNotificationProcessorHandler_1.processOfferRedeemedTransactionNotifications)(event);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sYW1iZGEvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLG9IQUFrSDtBQUVsSDs7Ozs7O0dBTUc7QUFDSCxPQUFPLENBQUMsT0FBTyxHQUFHLEtBQUssRUFBRSxLQUFlLEVBQTZCLEVBQUU7SUFDbkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxR0FBcUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLFNBQVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLGVBQWUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRWhOLDRDQUE0QztJQUM1QyxPQUFPLE1BQU0sSUFBQSx3RkFBNEMsRUFBQyxLQUFLLENBQUMsQ0FBQztBQUNyRSxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NRU0JhdGNoUmVzcG9uc2UsIFNRU0V2ZW50fSBmcm9tICdhd3MtbGFtYmRhJztcbmltcG9ydCB7cHJvY2Vzc09mZmVyUmVkZWVtZWRUcmFuc2FjdGlvbk5vdGlmaWNhdGlvbnN9IGZyb20gXCIuL2hhbmRsZXJzL09mZmVyUmVkZWVtZWROb3RpZmljYXRpb25Qcm9jZXNzb3JIYW5kbGVyXCI7XG5cbi8qKlxuICogTGFtYmRhIEZ1bmN0aW9uIGhhbmRsZXIsIGhhbmRsaW5nIGluY29taW5nIGV2ZW50cywgZnJvbSB0aGUgdHJhbnNhY3Rpb25zIG5vdGlmaWNhdGlvbnMgU1FTXG4gKiBxdWV1ZSwgYW5kIHRodXMsIHByb2Nlc3NpbmcgaW5jb21pbmcgbm90aWZpY2F0aW9ucyBmb3Igb2ZmZXIgcmVkZWVtZWQgdHJhbnNhY3Rpb25hbCBtZXNzYWdlcy5cbiAqXG4gKiBAcGFyYW0gZXZlbnQgU1FTIGV2ZW50IHRvIGJlIHBhc3NlZCBpbiB0aGUgaGFuZGxlclxuICogQHJldHVybnMgYSB7QGxpbmsgUHJvbWlzZX0gY29udGFpbmluZyBhIHtAbGluayBTUVNCYXRjaFJlc3BvbnNlfVxuICovXG5leHBvcnRzLmhhbmRsZXIgPSBhc3luYyAoZXZlbnQ6IFNRU0V2ZW50KTogUHJvbWlzZTxTUVNCYXRjaFJlc3BvbnNlPiA9PiB7XG4gICAgY29uc29sZS5sb2coYFJlY2VpdmVkIG5ldyB0cmFuc2FjdGlvbiBub3RpZmljYXRpb24gbWVzc2FnZSBmcm9tIHRyYW5zYWN0aW9ucyBTUVMgcXVldWUsIHdpdGggbnVtYmVyIG9mIHJlY29yZHMgJHtldmVudC5SZWNvcmRzLmxlbmd0aH0sIGlkOiAke2V2ZW50LlJlY29yZHNbMF0ubWVzc2FnZUlkfSwgY29udGVudHM6ICR7ZXZlbnQuUmVjb3Jkc1swXS5ib2R5fWApO1xuXG4gICAgLy8gcHJvY2VzcyBvZmZlciByZWRlZW1lZCBiYXNlZCB0cmFuc2FjdGlvbnNcbiAgICByZXR1cm4gYXdhaXQgcHJvY2Vzc09mZmVyUmVkZWVtZWRUcmFuc2FjdGlvbk5vdGlmaWNhdGlvbnMoZXZlbnQpO1xufVxuIl19