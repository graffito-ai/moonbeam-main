"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BaseAPIClient = void 0;
const client_secrets_manager_1 = require("@aws-sdk/client-secrets-manager");
const Constants_1 = require("../Constants");
const GraphqlExports_1 = require("../GraphqlExports");
/**
 * Class used as the base/generic client for all API clients that
 * we will be connecting to.
 */
class BaseAPIClient {
    // The Secrets Manager client, to be used while retrieving secrets related to clients.
    secretsClient;
    // The AWS region that the API client will be initialized in
    region;
    // The AWS environment that the API client will be initialized in
    environment;
    /**
     * Generic constructor for the API client.
     *
     * @param region the AWS region passed in from the Lambda resolver.
     * @param environment the AWS environment passed in from the Lambda resolver.
     */
    constructor(region, environment) {
        this.region = region;
        this.environment = environment;
        this.secretsClient = new client_secrets_manager_1.SecretsManagerClient({ region: region });
    }
    /**
     * Function used to retrieve various service credentials, used by any API clients, through the
     * Secrets Manager client.
     *
     * @param verificationClientSecretsName the name of the API client's secrets pair
     * @param internalRestBased optional flag indicating whether the key is REST or GraphQL/AppSync based
     *                          in case of internal-used based keys
     * @param notificationType  optional type indicating the type of notification, for which we are retrieving
     *                          specific secret configuration for
     * @param includeLoyaltyPrograms optional type indicating whether to include the loyalty program secret keys,
     *                               used for Olive calls
     * @param cognitoClientAccess optional type indicating whether to include the cognito access credentials/keys,
     *                            used for internal-based calls
     * @param channelType optional type indicating the type of channel, for which we are retrieving specific secret
     *                    configuration for
     *
     * @return a {@link Promise} of a {@link string} pair, containing various secrets to be used
     */
    async retrieveServiceCredentials(verificationClientSecretsName, internalRestBased, notificationType, includeLoyaltyPrograms, cognitoClientAccess, channelType) {
        try {
            // retrieve the secrets pair for the API client, depending on the current environment and region
            const verificationClientAPIPair = await this.secretsClient
                .send(new client_secrets_manager_1.GetSecretValueCommand(({ SecretId: `${verificationClientSecretsName}-${this.environment}-${this.region}` })));
            // check if the secrets for the API Client exist
            if (verificationClientAPIPair.SecretString) {
                // convert the retrieved secrets pair value, as a JSON object
                const clientPairAsJson = JSON.parse(verificationClientAPIPair.SecretString);
                // filter out and set the necessary API Client API credentials, depending on the client secret name passed in
                switch (verificationClientSecretsName) {
                    case Constants_1.Constants.AWSPairConstants.MOONBEAM_INTERNAL_SECRET_NAME:
                        if (cognitoClientAccess !== undefined && cognitoClientAccess) {
                            return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.CONGITO_CLI_ACCESS_KEY_ID], clientPairAsJson[Constants_1.Constants.AWSPairConstants.COGNITO_CLI_SECRET_ACCESS_KEY],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.COGNITO_USER_POOL_ID]];
                        }
                        else {
                            return internalRestBased !== undefined && internalRestBased
                                ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.MOONBEAM_INTERNAL_REST_BASE_URL], clientPairAsJson[Constants_1.Constants.AWSPairConstants.MOONBEAM_INTERNAL_REST_API_KEY]]
                                : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.MOONBEAM_INTERNAL_BASE_URL], clientPairAsJson[Constants_1.Constants.AWSPairConstants.MOONBEAM_INTERNAL_API_KEY]];
                        }
                    case Constants_1.Constants.AWSPairConstants.APP_UPGRADE_SECRET_NAME:
                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.APP_UPGRADE_BASE_URL], clientPairAsJson[Constants_1.Constants.AWSPairConstants.APP_UPGRADE_API_KEY]];
                    case Constants_1.Constants.AWSPairConstants.GOOGLE_MAPS_APIS_INTERNAL_SECRET_NAME:
                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.GOOGLE_MAPS_APIS_BASE_URL], clientPairAsJson[Constants_1.Constants.AWSPairConstants.GOOGLE_MAPS_APIS_IOS_KEY],
                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.GOOGLE_MAPS_APIS_ANDROID_KEY], clientPairAsJson[Constants_1.Constants.AWSPairConstants.GOOGLE_MAPS_ANDROID_SHA],
                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.GOOGLE_MAPS_APIS_KEY]];
                    case Constants_1.Constants.AWSPairConstants.EVENTBRITE_SECRET_NAME:
                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.EVENTBRITE_BASE_URL], clientPairAsJson[Constants_1.Constants.AWSPairConstants.EVENTBRITE_API_KEY]];
                    case Constants_1.Constants.AWSPairConstants.COURIER_INTERNAL_SECRET_NAME:
                        // return the appropriate secrets, depending on the type of notification passed in
                        if (!notificationType) {
                            console.log(`Invalid notification type to retrieve secrets in ${verificationClientSecretsName}`);
                            return [null, null];
                        }
                        else {
                            switch (notificationType) {
                                case GraphqlExports_1.NotificationType.NewUserSignup:
                                    return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.NEW_USER_SIGNUP_NOTIFICATION_AUTH_TOKEN],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.NEW_USER_SIGNUP_NOTIFICATION_TEMPLATE_ID]];
                                case GraphqlExports_1.NotificationType.NewQualifyingOfferAvailable:
                                    return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.NEW_QUALIFYING_OFFER_NOTIFICATION_AUTH_TOKEN],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.NEW_QUALIFYING_OFFER_NOTIFICATION_TEMPLATE_ID]];
                                case GraphqlExports_1.NotificationType.IneligibleTransaction:
                                    return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_NEW_INELIGIBLE_TRANSACTION_AUTH_TOKEN],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_NEW_INELIGIBLE_TRANSACTION_TEMPLATE_ID]];
                                case GraphqlExports_1.NotificationType.DailyEarningsSummary:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_DAILY_EARNINGS_SUMMARY_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_DAILY_EARNINGS_SUMMARY_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_DAILY_EARNINGS_SUMMARY_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_DAILY_EARNINGS_SUMMARY_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_DAILY_EARNINGS_SUMMARY_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_DAILY_EARNINGS_SUMMARY_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.LocationBasedOfferReminder:
                                    return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_LOCATION_BASED_UPDATE_NOTIFICATION_AUTH_TOKEN],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_LOCATION_BASED_UPDATE_NOTIFICATION_TEMPLATE_ID]];
                                case GraphqlExports_1.NotificationType.MilitaryStatusChangedPendingToRejected:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_STATUS_CHANGED_PENDING_TO_REJECTED_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_STATUS_CHANGED_PENDING_TO_REJECTED_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_STATUS_CHANGED_PENDING_TO_REJECTED_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_STATUS_CHANGED_PENDING_TO_REJECTED_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_STATUS_CHANGED_PENDING_TO_REJECTED_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_STATUS_CHANGED_PENDING_TO_REJECTED_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.MilitaryStatusChangedPendingToVerified:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_STATUS_CHANGED_PENDING_TO_VERIFIED_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_STATUS_CHANGED_PENDING_TO_VERIFIED_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_STATUS_CHANGED_PENDING_TO_VERIFIED_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_STATUS_CHANGED_PENDING_TO_VERIFIED_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_STATUS_CHANGED_PENDING_TO_VERIFIED_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_STATUS_CHANGED_PENDING_TO_VERIFIED_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.CardLinkingReminder:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_CARD_LINKING_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_CARD_LINKING_REMINDER_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_CARD_LINKING_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_CARD_LINKING_REMINDER_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_CARD_LINKING_REMINDER_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_CARD_LINKING_REMINDER_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.NewMapFeatureReminder:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_NEW_MAP_FEATURE_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_NEW_MAP_FEATURE_REMINDER_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_NEW_MAP_FEATURE_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_NEW_MAP_FEATURE_REMINDER_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_NEW_MAP_FEATURE_REMINDER_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_NEW_MAP_FEATURE_REMINDER_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.VeteransDayTemplate_1Reminder:
                                    return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_VETERANS_DAY_TEMPLATE_1_AUTH_TOKEN],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_VETERANS_DAY_TEMPLATE_1_TEMPLATE_ID]];
                                case GraphqlExports_1.NotificationType.VeteransDayTemplate_2Reminder:
                                    return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_VETERANS_DAY_TEMPLATE_2_AUTH_TOKEN],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_VETERANS_DAY_TEMPLATE_2_TEMPLATE_ID]];
                                case GraphqlExports_1.NotificationType.VeteransDayTemplate_3Reminder:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_VETERANS_DAY_TEMPLATE_3_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_VETERANS_DAY_TEMPLATE_3_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_VETERANS_DAY_TEMPLATE_3_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_VETERANS_DAY_TEMPLATE_3_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_VETERANS_DAY_TEMPLATE_3_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_VETERANS_DAY_TEMPLATE_3_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.ReferralTemplateLaunch:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REFERRAL_TEMPLATE_LAUNCH_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REFERRAL_TEMPLATE_LAUNCH_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_REFERRAL_TEMPLATE_LAUNCH_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_REFERRAL_TEMPLATE_LAUNCH_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REFERRAL_TEMPLATE_LAUNCH_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REFERRAL_TEMPLATE_LAUNCH_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.ReferralTemplate_1Reminder:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REFERRAL_TEMPLATE_1_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REFERRAL_TEMPLATE_1_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_REFERRAL_TEMPLATE_1_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_REFERRAL_TEMPLATE_1_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REFERRAL_TEMPLATE_1_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REFERRAL_TEMPLATE_1_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.MultipleCardFeatureReminder:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_MULTIPLE_CARDS_FEATURE_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_MULTIPLE_CARDS_FEATURE_REMINDER_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_MULTIPLE_CARDS_FEATURE_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_MULTIPLE_CARDS_FEATURE_REMINDER_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_MULTIPLE_CARDS_FEATURE_REMINDER_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_MULTIPLE_CARDS_FEATURE_REMINDER_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.SanAntonioReferralTemplate_1Reminder:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_SAN_ANTONIO_REFERRAL_TEMPLATE_1_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_SAN_ANTONIO_REFERRAL_TEMPLATE_1_REMINDER_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_SAN_ANTONIO_REFERRAL_TEMPLATE_1_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_SAN_ANTONIO_REFERRAL_TEMPLATE_1_REMINDER_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_SAN_ANTONIO_REFERRAL_TEMPLATE_1_REMINDER_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_SAN_ANTONIO_REFERRAL_TEMPLATE_1_REMINDER_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.RoundupsWaitlistTemplate_1Reminder:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_ROUNDUPS_WAITLIST_TEMPLATE_1_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_ROUNDUPS_WAITLIST_TEMPLATE_1_REMINDER_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_ROUNDUPS_WAITLIST_TEMPLATE_1_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_ROUNDUPS_WAITLIST_TEMPLATE_1_REMINDER_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_ROUNDUPS_WAITLIST_TEMPLATE_1_REMINDER_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_ROUNDUPS_WAITLIST_TEMPLATE_1_REMINDER_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.ReimbursementsReminder:
                                    if (channelType !== undefined) {
                                        return channelType === GraphqlExports_1.NotificationChannelType.Email
                                            ? [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REIMBURSEMENTS_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REIMBURSEMENTS_REMINDER_TEMPLATE_ID]]
                                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_REIMBURSEMENTS_REMINDER_AUTH_TOKEN],
                                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_REIMBURSEMENTS_REMINDER_TEMPLATE_ID]];
                                    }
                                    else {
                                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REIMBURSEMENTS_REMINDER_AUTH_TOKEN],
                                            clientPairAsJson[Constants_1.Constants.AWSPairConstants.EMAIL_REIMBURSEMENTS_REMINDER_TEMPLATE_ID]];
                                    }
                                case GraphqlExports_1.NotificationType.SpendingTemplate_1Reminder:
                                    return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_SPENDING_REMINDER_TEMPLATE_1_AUTH_TOKEN],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.PUSH_SPENDING_REMINDER_TEMPLATE_1_TEMPLATE_ID]];
                                case GraphqlExports_1.NotificationType.SpouseFeatureReminder:
                                    return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.SPOUSE_FEATURE_REMINDER_AUTH_TOKEN],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.SPOUSE_FEATURE_REMINDER_TEMPLATE_ID]];
                                case GraphqlExports_1.NotificationType.FeedbackTemplate_1Reminder:
                                    return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.COURIER_BASE_URL],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.FEEDBACK_TEMPLATE_1_REMINDER_AUTH_TOKEN],
                                        clientPairAsJson[Constants_1.Constants.AWSPairConstants.FEEDBACK_TEMPLATE_1_REMINDER_TEMPLATE_ID]];
                                default:
                                    console.log(`Unknown notifications type to retrieve secrets in ${verificationClientSecretsName}`);
                                    return [null, null];
                            }
                        }
                    case Constants_1.Constants.AWSPairConstants.QUANDIS_SECRET_NAME:
                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.QUANDIS_BASE_URL], clientPairAsJson[Constants_1.Constants.AWSPairConstants.QUANDIS_API_KEY]];
                    case Constants_1.Constants.AWSPairConstants.LIGHTHOUSE_SECRET_NAME:
                        return [clientPairAsJson[Constants_1.Constants.AWSPairConstants.LIGHTHOUSE_BASE_URL], clientPairAsJson[Constants_1.Constants.AWSPairConstants.LIGHTHOUSE_API_KEY]];
                    case Constants_1.Constants.AWSPairConstants.OLIVE_SECRET_NAME:
                        return includeLoyaltyPrograms !== undefined
                            ? [
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_BASE_URL],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_PUBLIC_KEY],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_PRIVATE_KEY],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_MOONBEAM_DEFAULT_LOYALTY],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_MOONBEAM_FIDELIS_DEFAULT_LOYALTY],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_MOONBEAM_ONLINE_LOYALTY],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_MOONBEAM_PREMIER_ONLINE_LOYALTY],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_MOONBEAM_PREMIER_NEARBY_LOYALTY],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_MOONBEAM_VETERANS_DAY_LOYALTY],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_MOONBEAM_CLICK_LOYALTY],
                                clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_MOONBEAM_PREMIER_CLICK_LOYALTY]
                            ]
                            : [clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_BASE_URL], clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_PUBLIC_KEY], clientPairAsJson[Constants_1.Constants.AWSPairConstants.OLIVE_PRIVATE_KEY]];
                    default:
                        console.log(`Unknown API client secrets name passed in ${verificationClientSecretsName}`);
                        return [null, null];
                }
            }
            else {
                console.log(`API client secrets pair not available for ${verificationClientSecretsName}, ${verificationClientAPIPair}`);
                return [null, null];
            }
        }
        catch (err) {
            const errorMessage = `Unexpected error while retrieving an API Key ${err}`;
            console.log(errorMessage);
            throw new Error(errorMessage);
        }
    }
}
exports.BaseAPIClient = BaseAPIClient;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFzZUFQSUNsaWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vY2xpZW50cy9CYXNlQVBJQ2xpZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDRFQUE0RjtBQUU1Riw0Q0FFc0I7QUFDdEIsc0RBMEQyQjtBQUUzQjs7O0dBR0c7QUFDSCxNQUFzQixhQUFhO0lBQy9CLHNGQUFzRjtJQUNuRSxhQUFhLENBQXVCO0lBRXZELDREQUE0RDtJQUN6QyxNQUFNLENBQVM7SUFFbEMsaUVBQWlFO0lBQzlDLFdBQVcsQ0FBUztJQUV2Qzs7Ozs7T0FLRztJQUNILFlBQXNCLE1BQWMsRUFBRSxXQUFtQjtRQUNyRCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUUvQixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksNkNBQW9CLENBQUMsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7O09BaUJHO0lBQ08sS0FBSyxDQUFDLDBCQUEwQixDQUFDLDZCQUFxQyxFQUFFLGlCQUEyQixFQUNsRSxnQkFBbUMsRUFBRSxzQkFBZ0MsRUFDckUsbUJBQTZCLEVBQUUsV0FBcUM7UUFZM0csSUFBSTtZQUNBLGdHQUFnRztZQUNoRyxNQUFNLHlCQUF5QixHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWE7aUJBQ3JELElBQUksQ0FBQyxJQUFJLDhDQUFxQixDQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsR0FBRyw2QkFBNkIsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTFILGdEQUFnRDtZQUNoRCxJQUFJLHlCQUF5QixDQUFDLFlBQVksRUFBRTtnQkFDeEMsNkRBQTZEO2dCQUM3RCxNQUFNLGdCQUFn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O2dDQUN6RSxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGdCQUFnQixDQUFDLG9DQUFvQyxDQUFDOzZCQUNwRjs0QkFDRCxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxFQUFFLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztvQkFDdk07d0JBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQyw2Q0FBNkMsNkJBQTZCLEVBQUUsQ0FBQyxDQUFDO3dCQUMxRixPQUFPLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO2lCQUMzQjthQUNKO2lCQUFNO2dCQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsNkNBQTZDLDZCQUE2QixLQUFLLHlCQUF5QixFQUFFLENBQUMsQ0FBQztnQkFFeEgsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzthQUN2QjtTQUNKO1FBQUMsT0FBTyxHQUFHLEVBQUU7WUFDVixNQUFNLFlBQVksR0FBRyxnREFBZ0QsR0FBRyxFQUFFLENBQUM7WUFDM0UsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUUxQixNQUFNLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQ2pDO0lBQ0wsQ0FBQztDQW13Qko7QUFsbENELHNDQWtsQ0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0dldFNlY3JldFZhbHVlQ29tbWFuZCwgU2VjcmV0c01hbmFnZXJDbGllbnR9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc2VjcmV0cy1tYW5hZ2VyXCI7XG5pbXBvcnQge0FQSUdhdGV3YXlQcm94eVJlc3VsdH0gZnJvbSBcImF3cy1sYW1iZGEvdHJpZ2dlci9hcGktZ2F0ZXdheS1wcm94eVwiO1xuaW1wb3J0IHtcbiAgICBDb25zdGFudHNcbn0gZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgICBBcHBVcGdyYWRlUmVzcG9uc2UsXG4gICAgQ2FyZCwgQ2FyZERldGFpbHNSZXNwb25zZSxcbiAgICBDYXJkTGlua1Jlc3BvbnNlLCBDcmVhdGVCdWxrTm90aWZpY2F0aW9uSW5wdXQsXG4gICAgQ3JlYXRlQnVsa05vdGlmaWNhdGlvblJlc3BvbnNlLCBDcmVhdGVEYWlseUVhcm5pbmdzU3VtbWFyeUlucHV0LCBDcmVhdGVFdmVudFNlcmllc0lucHV0LFxuICAgIENyZWF0ZU5vdGlmaWNhdGlvbklucHV0LFxuICAgIENyZWF0ZU5vdGlmaWNhdGlvblJlc3BvbnNlLFxuICAgIERhaWx5RWFybmluZ3NTdW1tYXJ5UmVzcG9uc2UsXG4gICAgRWxpZ2libGVMaW5rZWRVc2Vyc1Jlc3BvbnNlLFxuICAgIEVtYWlsRnJvbUNvZ25pdG9SZXNwb25zZSwgRXZlbnRTZXJpZXNSZXNwb25zZSxcbiAgICBHZW9jb2RlQXN5bmNJbnB1dCxcbiAgICBHZW9jb2RlQXN5bmNSZXNwb25zZSxcbiAgICBHZXREZXZpY2VzRm9yVXNlcklucHV0LCBHZXRMb2NhdGlvblByZWRpY3Rpb25zSW5wdXQsIEdldExvY2F0aW9uUHJlZGljdGlvbnNSZXNwb25zZSxcbiAgICBHZXRNaWxpdGFyeVZlcmlmaWNhdGlvbkluZm9ybWF0aW9uSW5wdXQsIEdldE5vdGlmaWNhdGlvbkJ5VHlwZUlucHV0LCBHZXROb3RpZmljYXRpb25CeVR5cGVSZXNwb25zZSxcbiAgICBHZXRPZmZlcnNJbnB1dCxcbiAgICBHZXRSZWZlcnJhbHNCeVN0YXR1c0lucHV0LCBHZXRTdG9yYWdlSW5wdXQsXG4gICAgR2V0VHJhbnNhY3Rpb25CeVN0YXR1c0lucHV0LFxuICAgIEdldFRyYW5zYWN0aW9uSW5wdXQsIEdldFRyYW5zYWN0aW9uc0luUmFuZ2VJbnB1dCxcbiAgICBHZXRVc2VyQ2FyZExpbmtpbmdJZElucHV0LFxuICAgIEdldFVzZXJDYXJkTGlua2luZ0lkUmVzcG9uc2UsIEdldFVzZXJOb3RpZmljYXRpb25Bc3NldHNJbnB1dCwgR2V0VXNlcnNCeUdlb2dyYXBoaWNhbExvY2F0aW9uSW5wdXQsXG4gICAgSW5lbGlnaWJsZUxpbmtlZFVzZXJzUmVzcG9uc2UsXG4gICAgSW5lbGlnaWJsZVRyYW5zYWN0aW9uLFxuICAgIEluZWxpZ2libGVUcmFuc2FjdGlvblJlc3BvbnNlLFxuICAgIE1lbWJlckRldGFpbHNSZXNwb25zZSxcbiAgICBNZW1iZXJSZXNwb25zZSxcbiAgICBNaWxpdGFyeVZlcmlmaWNhdGlvbk5vdGlmaWNhdGlvblVwZGF0ZSxcbiAgICBNaWxpdGFyeVZlcmlmaWNhdGlvblJlcG9ydGluZ0luZm9ybWF0aW9uLFxuICAgIE1pbGl0YXJ5VmVyaWZpY2F0aW9uUmVwb3J0aW5nSW5mb3JtYXRpb25SZXNwb25zZSxcbiAgICBNaWxpdGFyeVZlcmlmaWNhdGlvblJlcG9ydFJlc3BvbnNlLFxuICAgIE1pbGl0YXJ5VmVyaWZpY2F0aW9uU3RhdHVzVHlwZSxcbiAgICBNb29uYmVhbVRyYW5zYWN0aW9uLFxuICAgIE1vb25iZWFtVHJhbnNhY3Rpb25SZXNwb25zZSxcbiAgICBNb29uYmVhbVRyYW5zYWN0aW9uc0J5U3RhdHVzUmVzcG9uc2UsXG4gICAgTW9vbmJlYW1UcmFuc2FjdGlvbnNSZXNwb25zZSxcbiAgICBNb29uYmVhbVVwZGF0ZWRUcmFuc2FjdGlvblJlc3BvbnNlLFxuICAgIE5vdGlmaWNhdGlvbkNoYW5uZWxUeXBlLFxuICAgIE5vdGlmaWNhdGlvblJlbWluZGVyUmVzcG9uc2UsXG4gICAgTm90aWZpY2F0aW9uUmVzcG9uc2UsXG4gICAgTm90aWZpY2F0aW9uVHlwZSxcbiAgICBPZmZlcklkUmVzcG9uc2UsXG4gICAgT2ZmZXJSZWRlbXB0aW9uVHlwZVJlc3BvbnNlLFxuICAgIE9mZmVyc1Jlc3BvbnNlLFxuICAgIFB1dE1pbGl0YXJ5VmVyaWZpY2F0aW9uUmVwb3J0SW5wdXQsXG4gICAgUmVmZXJyYWxSZXNwb25zZSwgUmVpbWJ1cnNlbWVudFByb2Nlc3NpbmdSZXNwb25zZSxcbiAgICBSZW1vdmVDYXJkUmVzcG9uc2UsXG4gICAgU2VhcmNoT2ZmZXJzSW5wdXQsIFNlbmRCdWxrRW1haWxOb3RpZmljYXRpb25JbnB1dCwgU2VuZEJ1bGtNb2JpbGVQdXNoTm90aWZpY2F0aW9uSW5wdXQsXG4gICAgU2VuZEVtYWlsTm90aWZpY2F0aW9uSW5wdXQsXG4gICAgU2VuZE1vYmlsZVB1c2hOb3RpZmljYXRpb25JbnB1dCwgU3RvcmFnZVJlc3BvbnNlLFxuICAgIFRyYW5zYWN0aW9uLFxuICAgIFRyYW5zYWN0aW9uUmVzcG9uc2UsIFVwZGF0ZUNhcmRJbnB1dCxcbiAgICBVcGRhdGVkVHJhbnNhY3Rpb25FdmVudCxcbiAgICBVcGRhdGVkVHJhbnNhY3Rpb25FdmVudFJlc3BvbnNlLFxuICAgIFVwZGF0ZU5vdGlmaWNhdGlvblJlbWluZGVySW5wdXQsXG4gICAgVXBkYXRlUmVmZXJyYWxJbnB1dCxcbiAgICBVcGRhdGVUcmFuc2FjdGlvbklucHV0LFxuICAgIFVzZXJEZXZpY2VzUmVzcG9uc2UsXG4gICAgVXNlckZvck5vdGlmaWNhdGlvblJlbWluZGVyUmVzcG9uc2UsXG4gICAgVXNlck5vdGlmaWNhdGlvbkFzc2V0c1Jlc3BvbnNlXG59IGZyb20gXCIuLi9HcmFwaHFsRXhwb3J0c1wiO1xuXG4vKipcbiAqIENsYXNzIHVzZWQgYXMgdGhlIGJhc2UvZ2VuZXJpYyBjbGllbnQgZm9yIGFsbCBBUEkgY2xpZW50cyB0aGF0XG4gKiB3ZSB3aWxsIGJlIGNvbm5lY3RpbmcgdG8uXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQVBJQ2xpZW50IHtcbiAgICAvLyBUaGUgU2VjcmV0cyBNYW5hZ2VyIGNsaWVudCwgdG8gYmUgdXNlZCB3aGlsZSByZXRyaWV2aW5nIHNlY3JldHMgcmVsYXRlZCB0byBjbGllbnRzLlxuICAgIHByb3RlY3RlZCByZWFkb25seSBzZWNyZXRzQ2xpZW50OiBTZWNyZXRzTWFuYWdlckNsaWVudDtcblxuICAgIC8vIFRoZSBBV1MgcmVnaW9uIHRoYXQgdGhlIEFQSSBjbGllbnQgd2lsbCBiZSBpbml0aWFsaXplZCBpblxuICAgIHByb3RlY3RlZCByZWFkb25seSByZWdpb246IHN0cmluZztcblxuICAgIC8vIFRoZSBBV1MgZW52aXJvbm1lbnQgdGhhdCB0aGUgQVBJIGNsaWVudCB3aWxsIGJlIGluaXRpYWxpemVkIGluXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGVudmlyb25tZW50OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGNvbnN0cnVjdG9yIGZvciB0aGUgQVBJIGNsaWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWdpb24gdGhlIEFXUyByZWdpb24gcGFzc2VkIGluIGZyb20gdGhlIExhbWJkYSByZXNvbHZlci5cbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnQgdGhlIEFXUyBlbnZpcm9ubWVudCBwYXNzZWQgaW4gZnJvbSB0aGUgTGFtYmRhIHJlc29sdmVyLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihyZWdpb246IHN0cmluZywgZW52aXJvbm1lbnQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnJlZ2lvbiA9IHJlZ2lvbjtcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50O1xuXG4gICAgICAgIHRoaXMuc2VjcmV0c0NsaWVudCA9IG5ldyBTZWNyZXRzTWFuYWdlckNsaWVudCh7cmVnaW9uOiByZWdpb259KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIHZhcmlvdXMgc2VydmljZSBjcmVkZW50aWFscywgdXNlZCBieSBhbnkgQVBJIGNsaWVudHMsIHRocm91Z2ggdGhlXG4gICAgICogU2VjcmV0cyBNYW5hZ2VyIGNsaWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZXJpZmljYXRpb25DbGllbnRTZWNyZXRzTmFtZSB0aGUgbmFtZSBvZiB0aGUgQVBJIGNsaWVudCdzIHNlY3JldHMgcGFpclxuICAgICAqIEBwYXJhbSBpbnRlcm5hbFJlc3RCYXNlZCBvcHRpb25hbCBmbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGUga2V5IGlzIFJFU1Qgb3IgR3JhcGhRTC9BcHBTeW5jIGJhc2VkXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGluIGNhc2Ugb2YgaW50ZXJuYWwtdXNlZCBiYXNlZCBrZXlzXG4gICAgICogQHBhcmFtIG5vdGlmaWNhdGlvblR5cGUgIG9wdGlvbmFsIHR5cGUgaW5kaWNhdGluZyB0aGUgdHlwZSBvZiBub3RpZmljYXRpb24sIGZvciB3aGljaCB3ZSBhcmUgcmV0cmlldmluZ1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjaWZpYyBzZWNyZXQgY29uZmlndXJhdGlvbiBmb3JcbiAgICAgKiBAcGFyYW0gaW5jbHVkZUxveWFsdHlQcm9ncmFtcyBvcHRpb25hbCB0eXBlIGluZGljYXRpbmcgd2hldGhlciB0byBpbmNsdWRlIHRoZSBsb3lhbHR5IHByb2dyYW0gc2VjcmV0IGtleXMsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlZCBmb3IgT2xpdmUgY2FsbHNcbiAgICAgKiBAcGFyYW0gY29nbml0b0NsaWVudEFjY2VzcyBvcHRpb25hbCB0eXBlIGluZGljYXRpbmcgd2hldGhlciB0byBpbmNsdWRlIHRoZSBjb2duaXRvIGFjY2VzcyBjcmVkZW50aWFscy9rZXlzLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZWQgZm9yIGludGVybmFsLWJhc2VkIGNhbGxzXG4gICAgICogQHBhcmFtIGNoYW5uZWxUeXBlIG9wdGlvbmFsIHR5cGUgaW5kaWNhdGluZyB0aGUgdHlwZSBvZiBjaGFubmVsLCBmb3Igd2hpY2ggd2UgYXJlIHJldHJpZXZpbmcgc3BlY2lmaWMgc2VjcmV0XG4gICAgICogICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24gZm9yXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEge0BsaW5rIFByb21pc2V9IG9mIGEge0BsaW5rIHN0cmluZ30gcGFpciwgY29udGFpbmluZyB2YXJpb3VzIHNlY3JldHMgdG8gYmUgdXNlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyByZXRyaWV2ZVNlcnZpY2VDcmVkZW50aWFscyh2ZXJpZmljYXRpb25DbGllbnRTZWNyZXRzTmFtZTogc3RyaW5nLCBpbnRlcm5hbFJlc3RCYXNlZD86IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblR5cGU/OiBOb3RpZmljYXRpb25UeXBlLCBpbmNsdWRlTG95YWx0eVByb2dyYW1zPzogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29nbml0b0NsaWVudEFjY2Vzcz86IGJvb2xlYW4sIGNoYW5uZWxUeXBlPzogTm90aWZpY2F0aW9uQ2hhbm5lbFR5cGUpXG4gICAgICAgIDogUHJvbWlzZTxbc3RyaW5nIHwgbnVsbCwgc3RyaW5nIHwgbnVsbCxcbiAgICAgICAgKHN0cmluZyB8IG51bGwpPyxcbiAgICAgICAgKHN0cmluZyB8IG51bGwpPyxcbiAgICAgICAgKHN0cmluZyB8IG51bGwpPyxcbiAgICAgICAgKHN0cmluZyB8IG51bGwpPyxcbiAgICAgICAgKHN0cmluZyB8IG51bGwpPyxcbiAgICAgICAgKHN0cmluZyB8IG51bGwpPyxcbiAgICAgICAgKHN0cmluZyB8IG51bGwpPyxcbiAgICAgICAgKHN0cmluZyB8IG51bGwpPyxcbiAgICAgICAgKHN0cmluZyB8IG51bGwpP1xuICAgIF0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIHJldHJpZXZlIHRoZSBzZWNyZXRzIHBhaXIgZm9yIHRoZSBBUEkgY2xpZW50LCBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQgYW5kIHJlZ2lvblxuICAgICAgICAgICAgY29uc3QgdmVyaWZpY2F0aW9uQ2xpZW50QVBJUGFpciA9IGF3YWl0IHRoaXMuc2VjcmV0c0NsaWVudFxuICAgICAgICAgICAgICAgIC5zZW5kKG5ldyBHZXRTZWNyZXRWYWx1ZUNvbW1hbmQoKHtTZWNyZXRJZDogYCR7dmVyaWZpY2F0aW9uQ2xpZW50U2VjcmV0c05hbWV9LSR7dGhpcy5lbnZpcm9ubWVudH0tJHt0aGlzLnJlZ2lvbn1gfSkpKTtcblxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHNlY3JldHMgZm9yIHRoZSBBUEkgQ2xpZW50IGV4aXN0XG4gICAgICAgICAgICBpZiAodmVyaWZpY2F0aW9uQ2xpZW50QVBJUGFpci5TZWNyZXRTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSByZXRyaWV2ZWQgc2VjcmV0cyBwYWlyIHZhbHVlLCBhcyBhIEpTT04gb2JqZWN0XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpZW50UGFpckFzSnNvbiA9IEpTT04ucGFyc2UodmVyaWZpY2F0aW9uQ2xpZW50QVBJUGFpci5TZWNyZXRTdHJpbmchKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgYW5kIHNldCB0aGUgbmVjZXNzYXJ5IEFQSSBDbGllbnQgQVBJIGNyZWRlbnRpYWxzLCBkZXBlbmRpbmcgb24gdGhlIGNsaWVudCBzZWNyZXQgbmFtZSBwYXNzZWQgaW5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHZlcmlmaWNhdGlvbkNsaWVudFNlY3JldHNOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuTU9PTkJFQU1fSU5URVJOQUxfU0VDUkVUX05BTUU6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29nbml0b0NsaWVudEFjY2VzcyAhPT0gdW5kZWZpbmVkICYmIGNvZ25pdG9DbGllbnRBY2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09OR0lUT19DTElfQUNDRVNTX0tFWV9JRF0sIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09HTklUT19DTElfU0VDUkVUX0FDQ0VTU19LRVldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPR05JVE9fVVNFUl9QT09MX0lEXV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludGVybmFsUmVzdEJhc2VkICE9PSB1bmRlZmluZWQgJiYgaW50ZXJuYWxSZXN0QmFzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5NT09OQkVBTV9JTlRFUk5BTF9SRVNUX0JBU0VfVVJMXSwgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5NT09OQkVBTV9JTlRFUk5BTF9SRVNUX0FQSV9LRVldXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLk1PT05CRUFNX0lOVEVSTkFMX0JBU0VfVVJMXSwgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5NT09OQkVBTV9JTlRFUk5BTF9BUElfS0VZXV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQVBQX1VQR1JBREVfU0VDUkVUX05BTUU6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQVBQX1VQR1JBREVfQkFTRV9VUkxdLCBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkFQUF9VUEdSQURFX0FQSV9LRVldXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5HT09HTEVfTUFQU19BUElTX0lOVEVSTkFMX1NFQ1JFVF9OQU1FOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkdPT0dMRV9NQVBTX0FQSVNfQkFTRV9VUkxdLCBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkdPT0dMRV9NQVBTX0FQSVNfSU9TX0tFWV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5HT09HTEVfTUFQU19BUElTX0FORFJPSURfS0VZXSwgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5HT09HTEVfTUFQU19BTkRST0lEX1NIQV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5HT09HTEVfTUFQU19BUElTX0tFWV1dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVWRU5UQlJJVEVfU0VDUkVUX05BTUU6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRVZFTlRCUklURV9CQVNFX1VSTF0sIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRVZFTlRCUklURV9BUElfS0VZXV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9JTlRFUk5BTF9TRUNSRVRfTkFNRTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgYXBwcm9wcmlhdGUgc2VjcmV0cywgZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIG5vdGlmaWNhdGlvbiBwYXNzZWQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm90aWZpY2F0aW9uVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBJbnZhbGlkIG5vdGlmaWNhdGlvbiB0eXBlIHRvIHJldHJpZXZlIHNlY3JldHMgaW4gJHt2ZXJpZmljYXRpb25DbGllbnRTZWNyZXRzTmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvblR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZmljYXRpb25UeXBlLk5ld1VzZXJTaWdudXA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5ORVdfVVNFUl9TSUdOVVBfTk9USUZJQ0FUSU9OX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuTkVXX1VTRVJfU0lHTlVQX05PVElGSUNBVElPTl9URU1QTEFURV9JRF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE5vdGlmaWNhdGlvblR5cGUuTmV3UXVhbGlmeWluZ09mZmVyQXZhaWxhYmxlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuTkVXX1FVQUxJRllJTkdfT0ZGRVJfTk9USUZJQ0FUSU9OX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuTkVXX1FVQUxJRllJTkdfT0ZGRVJfTk9USUZJQ0FUSU9OX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTm90aWZpY2F0aW9uVHlwZS5JbmVsaWdpYmxlVHJhbnNhY3Rpb246XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5QVVNIX05FV19JTkVMSUdJQkxFX1RSQU5TQUNUSU9OX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9ORVdfSU5FTElHSUJMRV9UUkFOU0FDVElPTl9URU1QTEFURV9JRF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE5vdGlmaWNhdGlvblR5cGUuRGFpbHlFYXJuaW5nc1N1bW1hcnk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFubmVsVHlwZSA9PT0gTm90aWZpY2F0aW9uQ2hhbm5lbFR5cGUuRW1haWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfREFJTFlfRUFSTklOR1NfU1VNTUFSWV9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfREFJTFlfRUFSTklOR1NfU1VNTUFSWV9URU1QTEFURV9JRF1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfREFJTFlfRUFSTklOR1NfU1VNTUFSWV9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9EQUlMWV9FQVJOSU5HU19TVU1NQVJZX1RFTVBMQVRFX0lEXV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX0RBSUxZX0VBUk5JTkdTX1NVTU1BUllfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfREFJTFlfRUFSTklOR1NfU1VNTUFSWV9URU1QTEFURV9JRF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE5vdGlmaWNhdGlvblR5cGUuTG9jYXRpb25CYXNlZE9mZmVyUmVtaW5kZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5QVVNIX0xPQ0FUSU9OX0JBU0VEX1VQREFURV9OT1RJRklDQVRJT05fQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5QVVNIX0xPQ0FUSU9OX0JBU0VEX1VQREFURV9OT1RJRklDQVRJT05fVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZmljYXRpb25UeXBlLk1pbGl0YXJ5U3RhdHVzQ2hhbmdlZFBlbmRpbmdUb1JlamVjdGVkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbm5lbFR5cGUgPT09IE5vdGlmaWNhdGlvbkNoYW5uZWxUeXBlLkVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1NUQVRVU19DSEFOR0VEX1BFTkRJTkdfVE9fUkVKRUNURURfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1NUQVRVU19DSEFOR0VEX1BFTkRJTkdfVE9fUkVKRUNURURfVEVNUExBVEVfSURdXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5QVVNIX1NUQVRVU19DSEFOR0VEX1BFTkRJTkdfVE9fUkVKRUNURURfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfU1RBVFVTX0NIQU5HRURfUEVORElOR19UT19SRUpFQ1RFRF9URU1QTEFURV9JRF1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9TVEFUVVNfQ0hBTkdFRF9QRU5ESU5HX1RPX1JFSkVDVEVEX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1NUQVRVU19DSEFOR0VEX1BFTkRJTkdfVE9fUkVKRUNURURfVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZmljYXRpb25UeXBlLk1pbGl0YXJ5U3RhdHVzQ2hhbmdlZFBlbmRpbmdUb1ZlcmlmaWVkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbm5lbFR5cGUgPT09IE5vdGlmaWNhdGlvbkNoYW5uZWxUeXBlLkVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1NUQVRVU19DSEFOR0VEX1BFTkRJTkdfVE9fVkVSSUZJRURfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1NUQVRVU19DSEFOR0VEX1BFTkRJTkdfVE9fVkVSSUZJRURfVEVNUExBVEVfSURdXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5QVVNIX1NUQVRVU19DSEFOR0VEX1BFTkRJTkdfVE9fVkVSSUZJRURfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfU1RBVFVTX0NIQU5HRURfUEVORElOR19UT19WRVJJRklFRF9URU1QTEFURV9JRF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfU1RBVFVTX0NIQU5HRURfUEVORElOR19UT19WRVJJRklFRF9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9TVEFUVVNfQ0hBTkdFRF9QRU5ESU5HX1RPX1ZFUklGSUVEX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTm90aWZpY2F0aW9uVHlwZS5DYXJkTGlua2luZ1JlbWluZGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbm5lbFR5cGUgPT09IE5vdGlmaWNhdGlvbkNoYW5uZWxUeXBlLkVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX0NBUkRfTElOS0lOR19SRU1JTkRFUl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfQ0FSRF9MSU5LSU5HX1JFTUlOREVSX1RFTVBMQVRFX0lEXV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9DQVJEX0xJTktJTkdfUkVNSU5ERVJfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfQ0FSRF9MSU5LSU5HX1JFTUlOREVSX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9DQVJEX0xJTktJTkdfUkVNSU5ERVJfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfQ0FSRF9MSU5LSU5HX1JFTUlOREVSX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTm90aWZpY2F0aW9uVHlwZS5OZXdNYXBGZWF0dXJlUmVtaW5kZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFubmVsVHlwZSA9PT0gTm90aWZpY2F0aW9uQ2hhbm5lbFR5cGUuRW1haWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfTkVXX01BUF9GRUFUVVJFX1JFTUlOREVSX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9ORVdfTUFQX0ZFQVRVUkVfUkVNSU5ERVJfVEVNUExBVEVfSURdXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5QVVNIX05FV19NQVBfRkVBVFVSRV9SRU1JTkRFUl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9ORVdfTUFQX0ZFQVRVUkVfUkVNSU5ERVJfVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX05FV19NQVBfRkVBVFVSRV9SRU1JTkRFUl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9ORVdfTUFQX0ZFQVRVUkVfUkVNSU5ERVJfVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZmljYXRpb25UeXBlLlZldGVyYW5zRGF5VGVtcGxhdGVfMVJlbWluZGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9WRVRFUkFOU19EQVlfVEVNUExBVEVfMV9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfVkVURVJBTlNfREFZX1RFTVBMQVRFXzFfVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZmljYXRpb25UeXBlLlZldGVyYW5zRGF5VGVtcGxhdGVfMlJlbWluZGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9WRVRFUkFOU19EQVlfVEVNUExBVEVfMl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfVkVURVJBTlNfREFZX1RFTVBMQVRFXzJfVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZmljYXRpb25UeXBlLlZldGVyYW5zRGF5VGVtcGxhdGVfM1JlbWluZGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbm5lbFR5cGUgPT09IE5vdGlmaWNhdGlvbkNoYW5uZWxUeXBlLkVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1ZFVEVSQU5TX0RBWV9URU1QTEFURV8zX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9WRVRFUkFOU19EQVlfVEVNUExBVEVfM19URU1QTEFURV9JRF1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfVkVURVJBTlNfREFZX1RFTVBMQVRFXzNfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfVkVURVJBTlNfREFZX1RFTVBMQVRFXzNfVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1ZFVEVSQU5TX0RBWV9URU1QTEFURV8zX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1ZFVEVSQU5TX0RBWV9URU1QTEFURV8zX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTm90aWZpY2F0aW9uVHlwZS5SZWZlcnJhbFRlbXBsYXRlTGF1bmNoOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbm5lbFR5cGUgPT09IE5vdGlmaWNhdGlvbkNoYW5uZWxUeXBlLkVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1JFRkVSUkFMX1RFTVBMQVRFX0xBVU5DSF9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfUkVGRVJSQUxfVEVNUExBVEVfTEFVTkNIX1RFTVBMQVRFX0lEXV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9SRUZFUlJBTF9URU1QTEFURV9MQVVOQ0hfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfUkVGRVJSQUxfVEVNUExBVEVfTEFVTkNIX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9SRUZFUlJBTF9URU1QTEFURV9MQVVOQ0hfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfUkVGRVJSQUxfVEVNUExBVEVfTEFVTkNIX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTm90aWZpY2F0aW9uVHlwZS5SZWZlcnJhbFRlbXBsYXRlXzFSZW1pbmRlcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5uZWxUeXBlID09PSBOb3RpZmljYXRpb25DaGFubmVsVHlwZS5FbWFpbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9SRUZFUlJBTF9URU1QTEFURV8xX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9SRUZFUlJBTF9URU1QTEFURV8xX1RFTVBMQVRFX0lEXV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9SRUZFUlJBTF9URU1QTEFURV8xX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5QVVNIX1JFRkVSUkFMX1RFTVBMQVRFXzFfVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1JFRkVSUkFMX1RFTVBMQVRFXzFfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfUkVGRVJSQUxfVEVNUExBVEVfMV9URU1QTEFURV9JRF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE5vdGlmaWNhdGlvblR5cGUuTXVsdGlwbGVDYXJkRmVhdHVyZVJlbWluZGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbm5lbFR5cGUgPT09IE5vdGlmaWNhdGlvbkNoYW5uZWxUeXBlLkVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX01VTFRJUExFX0NBUkRTX0ZFQVRVUkVfUkVNSU5ERVJfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX01VTFRJUExFX0NBUkRTX0ZFQVRVUkVfUkVNSU5ERVJfVEVNUExBVEVfSURdXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5QVVNIX01VTFRJUExFX0NBUkRTX0ZFQVRVUkVfUkVNSU5ERVJfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfTVVMVElQTEVfQ0FSRFNfRkVBVFVSRV9SRU1JTkRFUl9URU1QTEFURV9JRF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfTVVMVElQTEVfQ0FSRFNfRkVBVFVSRV9SRU1JTkRFUl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9NVUxUSVBMRV9DQVJEU19GRUFUVVJFX1JFTUlOREVSX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTm90aWZpY2F0aW9uVHlwZS5TYW5BbnRvbmlvUmVmZXJyYWxUZW1wbGF0ZV8xUmVtaW5kZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFubmVsVHlwZSA9PT0gTm90aWZpY2F0aW9uQ2hhbm5lbFR5cGUuRW1haWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfU0FOX0FOVE9OSU9fUkVGRVJSQUxfVEVNUExBVEVfMV9SRU1JTkRFUl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfU0FOX0FOVE9OSU9fUkVGRVJSQUxfVEVNUExBVEVfMV9SRU1JTkRFUl9URU1QTEFURV9JRF1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfU0FOX0FOVE9OSU9fUkVGRVJSQUxfVEVNUExBVEVfMV9SRU1JTkRFUl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9TQU5fQU5UT05JT19SRUZFUlJBTF9URU1QTEFURV8xX1JFTUlOREVSX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9TQU5fQU5UT05JT19SRUZFUlJBTF9URU1QTEFURV8xX1JFTUlOREVSX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1NBTl9BTlRPTklPX1JFRkVSUkFMX1RFTVBMQVRFXzFfUkVNSU5ERVJfVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZmljYXRpb25UeXBlLlJvdW5kdXBzV2FpdGxpc3RUZW1wbGF0ZV8xUmVtaW5kZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFubmVsVHlwZSA9PT0gTm90aWZpY2F0aW9uQ2hhbm5lbFR5cGUuRW1haWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfUk9VTkRVUFNfV0FJVExJU1RfVEVNUExBVEVfMV9SRU1JTkRFUl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfUk9VTkRVUFNfV0FJVExJU1RfVEVNUExBVEVfMV9SRU1JTkRFUl9URU1QTEFURV9JRF1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlBVU0hfUk9VTkRVUFNfV0FJVExJU1RfVEVNUExBVEVfMV9SRU1JTkRFUl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9ST1VORFVQU19XQUlUTElTVF9URU1QTEFURV8xX1JFTUlOREVSX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5FTUFJTF9ST1VORFVQU19XQUlUTElTVF9URU1QTEFURV8xX1JFTUlOREVSX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1JPVU5EVVBTX1dBSVRMSVNUX1RFTVBMQVRFXzFfUkVNSU5ERVJfVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZmljYXRpb25UeXBlLlJlaW1idXJzZW1lbnRzUmVtaW5kZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFubmVsVHlwZSA9PT0gTm90aWZpY2F0aW9uQ2hhbm5lbFR5cGUuRW1haWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfUkVJTUJVUlNFTUVOVFNfUkVNSU5ERVJfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkVNQUlMX1JFSU1CVVJTRU1FTlRTX1JFTUlOREVSX1RFTVBMQVRFX0lEXV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9SRUlNQlVSU0VNRU5UU19SRU1JTkRFUl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9SRUlNQlVSU0VNRU5UU19SRU1JTkRFUl9URU1QTEFURV9JRF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfUkVJTUJVUlNFTUVOVFNfUkVNSU5ERVJfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuRU1BSUxfUkVJTUJVUlNFTUVOVFNfUkVNSU5ERVJfVEVNUExBVEVfSURdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBOb3RpZmljYXRpb25UeXBlLlNwZW5kaW5nVGVtcGxhdGVfMVJlbWluZGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkNPVVJJRVJfQkFTRV9VUkxdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9TUEVORElOR19SRU1JTkRFUl9URU1QTEFURV8xX0FVVEhfVE9LRU5dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUFVTSF9TUEVORElOR19SRU1JTkRFUl9URU1QTEFURV8xX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTm90aWZpY2F0aW9uVHlwZS5TcG91c2VGZWF0dXJlUmVtaW5kZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuQ09VUklFUl9CQVNFX1VSTF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5TUE9VU0VfRkVBVFVSRV9SRU1JTkRFUl9BVVRIX1RPS0VOXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLlNQT1VTRV9GRUFUVVJFX1JFTUlOREVSX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTm90aWZpY2F0aW9uVHlwZS5GZWVkYmFja1RlbXBsYXRlXzFSZW1pbmRlcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5DT1VSSUVSX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkZFRURCQUNLX1RFTVBMQVRFXzFfUkVNSU5ERVJfQVVUSF9UT0tFTl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5GRUVEQkFDS19URU1QTEFURV8xX1JFTUlOREVSX1RFTVBMQVRFX0lEXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVW5rbm93biBub3RpZmljYXRpb25zIHR5cGUgdG8gcmV0cmlldmUgc2VjcmV0cyBpbiAke3ZlcmlmaWNhdGlvbkNsaWVudFNlY3JldHNOYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuUVVBTkRJU19TRUNSRVRfTkFNRTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5RVUFORElTX0JBU0VfVVJMXSwgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5RVUFORElTX0FQSV9LRVldXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5MSUdIVEhPVVNFX1NFQ1JFVF9OQU1FOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkxJR0hUSE9VU0VfQkFTRV9VUkxdLCBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLkxJR0hUSE9VU0VfQVBJX0tFWV1dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLk9MSVZFX1NFQ1JFVF9OQU1FOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluY2x1ZGVMb3lhbHR5UHJvZ3JhbXMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLk9MSVZFX0JBU0VfVVJMXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5PTElWRV9QVUJMSUNfS0VZXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5PTElWRV9QUklWQVRFX0tFWV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuT0xJVkVfTU9PTkJFQU1fREVGQVVMVF9MT1lBTFRZXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5PTElWRV9NT09OQkVBTV9GSURFTElTX0RFRkFVTFRfTE9ZQUxUWV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuT0xJVkVfTU9PTkJFQU1fT05MSU5FX0xPWUFMVFldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLk9MSVZFX01PT05CRUFNX1BSRU1JRVJfT05MSU5FX0xPWUFMVFldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLk9MSVZFX01PT05CRUFNX1BSRU1JRVJfTkVBUkJZX0xPWUFMVFldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLk9MSVZFX01PT05CRUFNX1ZFVEVSQU5TX0RBWV9MT1lBTFRZXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5PTElWRV9NT09OQkVBTV9DTElDS19MT1lBTFRZXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50UGFpckFzSnNvbltDb25zdGFudHMuQVdTUGFpckNvbnN0YW50cy5PTElWRV9NT09OQkVBTV9QUkVNSUVSX0NMSUNLX0xPWUFMVFldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW2NsaWVudFBhaXJBc0pzb25bQ29uc3RhbnRzLkFXU1BhaXJDb25zdGFudHMuT0xJVkVfQkFTRV9VUkxdLCBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLk9MSVZFX1BVQkxJQ19LRVldLCBjbGllbnRQYWlyQXNKc29uW0NvbnN0YW50cy5BV1NQYWlyQ29uc3RhbnRzLk9MSVZFX1BSSVZBVEVfS0VZXV07XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVW5rbm93biBBUEkgY2xpZW50IHNlY3JldHMgbmFtZSBwYXNzZWQgaW4gJHt2ZXJpZmljYXRpb25DbGllbnRTZWNyZXRzTmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQVBJIGNsaWVudCBzZWNyZXRzIHBhaXIgbm90IGF2YWlsYWJsZSBmb3IgJHt2ZXJpZmljYXRpb25DbGllbnRTZWNyZXRzTmFtZX0sICR7dmVyaWZpY2F0aW9uQ2xpZW50QVBJUGFpcn1gKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYFVuZXhwZWN0ZWQgZXJyb3Igd2hpbGUgcmV0cmlldmluZyBhbiBBUEkgS2V5ICR7ZXJyfWA7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvck1lc3NhZ2UpO1xuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IHRoZSBub3RpZmljYXRpb25zIGJ5IHRoZWlyIHR5cGUsIHNvcnRlZCBieSBhIHBhcnRpY3VsYXIgZGF0ZS90aW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdldE5vdGlmaWNhdGlvbkJ5VHlwZUlucHV0IGlucHV0IHBhc3NlZCBpbiwgd2hpY2ggd2lsbCBiZSB1c2VkIGluIHJldHJpZXZpbmcgdGhlIG5vdGlmaWNhdGlvbnNcbiAgICAgKiBieSB0eXBlIGFwcHJvcHJpYXRlbHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBHZXROb3RpZmljYXRpb25CeVR5cGVSZXNwb25zZX0sIHJlcHJlc2VudGluZyB0aGUgZmlsdGVyZWQgbm90aWZpY2F0aW9ucywgaWYgYW55IGFwcGxpY2FibGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldE5vdGlmaWNhdGlvbkJ5VHlwZT8oZ2V0Tm90aWZpY2F0aW9uQnlUeXBlSW5wdXQ6IEdldE5vdGlmaWNhdGlvbkJ5VHlwZUlucHV0KTogUHJvbWlzZTxHZXROb3RpZmljYXRpb25CeVR5cGVSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIGdldCB0aGUgbm90aWZpY2F0aW9uIGFzc2V0cyBmb3IgYSBwYXJ0aWN1bGFyIHVzZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZ2V0VXNlck5vdGlmaWNhdGlvbkFzc2V0c0lucHV0IGlucHV0IHBhc3NlZCBpbiwgd2hpY2ggd2lsbCBiZSB1c2VkIGluIHJldHJpZXZpbmcgdGhlIG5vdGlmaWNhdGlvbnNcbiAgICAgKiBhc3NldHMgZm9yIHRoZSB1c2VyIGFjY29yZGluZ2x5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgVXNlck5vdGlmaWNhdGlvbkFzc2V0c1Jlc3BvbnNlfSwgcmVwcmVzZW50aW5nIHRoZSByZXRyaWV2ZWQgbm90aWZpY2F0aW9uIGFzc2V0cywgaWYgYW55IGFwcGxpY2FibGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFVzZXJOb3RpZmljYXRpb25Bc3NldHM/KGdldFVzZXJOb3RpZmljYXRpb25Bc3NldHNJbnB1dDogR2V0VXNlck5vdGlmaWNhdGlvbkFzc2V0c0lucHV0KTogUHJvbWlzZTxVc2VyTm90aWZpY2F0aW9uQXNzZXRzUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBjcmVhdGUgYSBuZXcgZXZlbnQgc2VyaWVzIGZvciBhIHBhcnRpY3VsYXIgb3JnYW5pemF0aW9uLCBieSBleHRyYWN0aW5nXG4gICAgICogdGhlIGFwcHJvcHJpYXRlIGV2ZW50cyBpbmZvcm1hdGlvbiBmcm9tIEV2ZW50QnJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3JlYXRlRXZlbnRTZXJpZXNJbnB1dCBpbnB1dCBwYXNzZWQgaW4sIHdoaWNoIHdpbGwgYmUgdXNlZCBpbiBjcmVhdGluZyBhIG5ldyBldmVudCBzZXJpZXNcbiAgICAgKiBhbmQgaW1wbGljaXRseSBmaWxsaW5nIGluIHRoZSBhcHByb3ByaWF0ZSBtaXNzaW5nIGluZm9ybWF0aW9uIHZpYSB0aGUgRXZlbnRCcml0ZSBBUEkgY2FsbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIEV2ZW50U2VyaWVzUmVzcG9uc2V9LCByZXByZXNlbnRpbmcgdGhlIG5ld2x5IGNyZWF0ZWQgZXZlbnQgc2VyaWVzIHRvIGJlIHN0b3JlZCxcbiAgICAgKiBvYnRhaW5lZCBmcm9tIHRoZSBFdmVudEJyaXRlIEFQSSBjYWxsLCBhbG9uZ3NpZGUgd2l0aCB0aGUgaW5mb3JtYXRpb24gcGFzc2VkIGluLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjcmVhdGVFdmVudFNlcmllc0Zvck9yZ2FuaXphdGlvbj8oY3JlYXRlRXZlbnRTZXJpZXNJbnB1dDogQ3JlYXRlRXZlbnRTZXJpZXNJbnB1dCk6IFByb21pc2U8RXZlbnRTZXJpZXNSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIGEgZmlsZSdzIFVSTCBmcm9tIHN0b3JhZ2UgdmlhIENsb3VkRnJvbnQgYW5kIFMzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdldFN0b3JhZ2VJbnB1dCBpbnB1dCBwYXNzZWQgaW4sIHdoaWNoIHdpbGwgYmUgdXNlZCBpbiByZXR1cm5pbmcgdGhlIGFwcHJvcHJpYXRlXG4gICAgICogVVJMIGZvciBhIGdpdmVuIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhICB7QGxpbmsgU3RvcmFnZVJlc3BvbnNlfSwgcmVwcmVzZW50aW5nIHRoZSByZXRyaWV2ZWQgY2hvc2UgZmlsZSdzIFVSTC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0U3RvcmFnZUZpbGVVcmw/KGdldFN0b3JhZ2VJbnB1dDogR2V0U3RvcmFnZUlucHV0KTogUHJvbWlzZTxTdG9yYWdlUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byByZXRyaWV2ZSBsb2NhdGlvbiBwcmVkaWN0aW9ucywgZm9yIGEgbG9jYXRpb24gdG8gYmUgcGFzc2VkIGluLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdldExvY2F0aW9uUHJlZGljdGlvbnNJbnB1dCBpbnB1dCBwYXNzZWQgaW4sIHdoaWNoIHdpbGwgYmUgdXNlZCBpbiByZXR1cm5pbmdcbiAgICAgKiBsb2NhdGlvbiBwcmVkaWN0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgR2V0TG9jYXRpb25QcmVkaWN0aW9uc1Jlc3BvbnNlfSwgcmVwcmVzZW50aW5nIHRoZSByZXRyaWV2ZWQgbG9jYXRpb24gcHJlZGljdGlvbnNcbiAgICAgKiB0byBiZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0TG9jYXRpb25QcmVkaWN0aW9ucz8oZ2V0TG9jYXRpb25QcmVkaWN0aW9uc0lucHV0OiBHZXRMb2NhdGlvblByZWRpY3Rpb25zSW5wdXQpOiBQcm9taXNlPEdldExvY2F0aW9uUHJlZGljdGlvbnNSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIGdlb2NvZGUgYSBwYXJ0aWN1bGFyIGFkZHJlc3MsIGZvciBhIGxvY2F0aW9uIHRvIGJlIHBhc3NlZCBpbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBnZW9jb2RlQXN5bmNJbnB1dCBpbnB1dCBwYXNzZWQgaW4sXG4gICAgICogd2hpY2ggd2Ugd2lsbCByZXRyaWV2ZSB0aGUgZ2VvY29kZWQgaW5mb3JtYXRpb24gZm9yLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgR2VvY29kZUFzeW5jUmVzcG9uc2V9LCByZXByZXNlbnRpbmcgdGhlIHBhc3NlZCBpbiBhZGRyZXNzJ3NcbiAgICAgKiBnZW9jb2RlZCBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2VvQ29kZUFzeW5jPyhnZW9jb2RlQXN5bmNJbnB1dDogR2VvY29kZUFzeW5jSW5wdXQpOiBQcm9taXNlPEdlb2NvZGVBc3luY1Jlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IHRoZSBtaWxpdGFyeSB2ZXJpZmljYXRpb24gaW5mb3JtYXRpb24gb2Ygb25lXG4gICAgICogb3IgbXVsdGlwbGUgdXNlcnMsIGRlcGVuZGluZyBvbiB0aGUgZmlsdGVycyBwYXNzZWQgaW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZ2V0TWlsaXRhcnlWZXJpZmljYXRpb25JbmZvcm1hdGlvbklucHV0IHRoZSBpbnB1dCBjb250YWluaW5nIHRoZSBtaWxpdGFyeVxuICAgICAqIHZlcmlmaWNhdGlvbiByZWxldmFudCBmaWx0ZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBNaWxpdGFyeVZlcmlmaWNhdGlvblJlcG9ydGluZ0luZm9ybWF0aW9uUmVzcG9uc2V9LCByZXByZXNlbnRpbmcgdGhlIGZpbHRlcmVkXG4gICAgICogbWlsaXRhcnkgdmVyaWZpY2F0aW9uIGluZm9ybWF0aW9uIHJlY29yZHMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldE1pbGl0YXJ5VmVyaWZpY2F0aW9uSW5mb3JtYXRpb24/KGdldE1pbGl0YXJ5VmVyaWZpY2F0aW9uSW5mb3JtYXRpb25JbnB1dDogR2V0TWlsaXRhcnlWZXJpZmljYXRpb25JbmZvcm1hdGlvbklucHV0KTogUHJvbWlzZTxNaWxpdGFyeVZlcmlmaWNhdGlvblJlcG9ydGluZ0luZm9ybWF0aW9uUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byB1cGRhdGUgYW5kL29yIGNyZWF0ZSBhbiBleGlzdGluZy9uZXcgbWlsaXRhcnkgdmVyaWZpY2F0aW9uIHJlcG9ydFxuICAgICAqIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHV0TWlsaXRhcnlWZXJpZmljYXRpb25SZXBvcnRJbnB1dCB0aGUgaW5wdXQgY29udGFpbmluZyB0aGUgaW5mb3JtYXRpb24gdGhhdCBuZWVkcyB0byBiZVxuICAgICAqIHRyYW5zZmVycmVkIGludG8gdGhlIG1pbGl0YXJ5IHZlcmlmaWNhdGlvbiByZXBvcnQgZmlsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIE1pbGl0YXJ5VmVyaWZpY2F0aW9uUmVwb3J0UmVzcG9uc2V9LCByZXByZXNlbnRpbmcgYSBmbGFnIGhpZ2hsaWdodGluZyB3aGV0aGVyXG4gICAgICogdGhlIGZpbGUgd2FzIHN1Y2Nlc3NmdWxseSB1cGRhdGVkIG9yIG5vdC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcHV0TWlsaXRhcnlWZXJpZmljYXRpb25SZXBvcnQ/KHB1dE1pbGl0YXJ5VmVyaWZpY2F0aW9uUmVwb3J0SW5wdXQ6IFB1dE1pbGl0YXJ5VmVyaWZpY2F0aW9uUmVwb3J0SW5wdXQpOiBQcm9taXNlPE1pbGl0YXJ5VmVyaWZpY2F0aW9uUmVwb3J0UmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byB1cGRhdGUgYSByZWZlcnJhbCdzIHBhcnRpY3VsYXIgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXBkYXRlUmVmZXJyYWxJbnB1dCB0aGUgaW5wdXQgY29udGFpbmluZyBhbnkgaW5mb3JtYXRpb24gcmVsZXZhbnQgaW5cbiAgICAgKiB1cGRhdGluZyBhbiBleGlzdGluZyByZWZlcnJhbCBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIFJlZmVycmFsUmVzcG9uc2V9LCByZXByZXNlbnRpbmcgdGhlIHVwZGF0ZWQgcmVmZXJyYWwgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVJlZmVycmFsPyh1cGRhdGVSZWZlcnJhbElucHV0OiBVcGRhdGVSZWZlcnJhbElucHV0KTogUHJvbWlzZTxSZWZlcnJhbFJlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IGV4aXN0aW5nIHJlZmVycmFscyBmaWx0ZXJlZCBieSBhIHBhcnRpY3VsYXIgc3RhdHVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdldFJlZmVycmFsc0J5U3RhdHVzSW5wdXQgdGhlIGlucHV0IGNvbnRhaW5pbmcgYW55IGZpbHRlcmluZyBpbmZvcm1hdGlvblxuICAgICAqIHBlcnRhaW5pbmcgdGhlIHJlZmVycmFsIHN0YXR1cyB0aGF0IHdlIHdvdWxkIHVzZSB0byBmaWx0ZXIgZXhpc3RpbmcgcmVmZXJyYWxzIGJ5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgUmVmZXJyYWxSZXNwb25zZX0sIHJlcHJlc2VudGluZyB0aGUgcmVmZXJyYWwgaW5mb3JtYXRpb24gZmlsdGVyZWRcbiAgICAgKiBieSBzdGF0dXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFJlZmVycmFsQnlTdGF0dXM/KGdldFJlZmVycmFsc0J5U3RhdHVzSW5wdXQ6IEdldFJlZmVycmFsc0J5U3RhdHVzSW5wdXQpOiBQcm9taXNlPFJlZmVycmFsUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBnZXQgdGhlIEFQSSBLZXkgZm9yIHRoZSBBcHAgVXBncmFkZSBzZXJ2aWNlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgQXBwVXBncmFkZVJlc3BvbnNlfSwgcmVwcmVzZW50aW5nIHRoZSBBUEkgS2V5XG4gICAgICogdXNlZCBmb3IgdGhlIEFwcCBVcGdyYWRlIHNlcnZpY2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEFwcFVwZ3JhZGVBUElLZXk/KCk6IFByb21pc2U8QXBwVXBncmFkZVJlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IHRoZSB1c2VycyB3aXRoIG5vIGxpbmtlZCBjYXJkcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIEluZWxpZ2libGVMaW5rZWRVc2Vyc1Jlc3BvbnNlfSwgcmVwcmVzZW50aW5nIHRoZSB1c2Vyc1xuICAgICAqIHdoaWNoIGFyZSBub3QgZWxpZ2libGUgZm9yIGEgcmVpbWJ1cnNlbWVudCwgc2luY2UgdGhleSBoYXZlIG5vIGxpbmtlZCBjYXJkcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0VXNlcnNXaXRoTm9DYXJkcz8oKTogUHJvbWlzZTxJbmVsaWdpYmxlTGlua2VkVXNlcnNSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIGdldCBhbGwgQUNUSVZFIG5vdGlmaWNhdGlvbiByZW1pbmRlcnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBOb3RpZmljYXRpb25SZW1pbmRlclJlc3BvbnNlfSwgcmVwcmVzZW50aW5nIHRoZSBBQ1RJVkUgbm90aWZpY2F0aW9uXG4gICAgICogcmVtaW5kZXJzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXROb3RpZmljYXRpb25SZW1pbmRlcnM/KCk6IFByb21pc2U8Tm90aWZpY2F0aW9uUmVtaW5kZXJSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHVwZGF0ZSBhIHNwZWNpZmljIG5vdGlmaWNhdGlvbiByZW1pbmRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1cGRhdGVOb3RpZmljYXRpb25SZW1pbmRlcklucHV0IHRoZSBub3RpZmljYXRpb24gcmVtaW5kZXIgaW5wdXQsIGNvbnRhaW5pbmcgYW55IGluZm9ybWF0aW9uIHVzZWQgdG9cbiAgICAgKiB1cGRhdGUgYW4gYXBwbGljYWJsZSBub3RpZmljYXRpb24gcmVtaW5kZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBOb3RpZmljYXRpb25SZW1pbmRlclJlc3BvbnNlfSwgcmVwcmVzZW50aW5nIHRoZSB1cGRhdGUgbm90aWZpY2F0aW9uIHJlbWluZGVyLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCB1cGRhdGVOb3RpZmljYXRpb25SZW1pbmRlcj8odXBkYXRlTm90aWZpY2F0aW9uUmVtaW5kZXJJbnB1dDogVXBkYXRlTm90aWZpY2F0aW9uUmVtaW5kZXJJbnB1dCk6IFByb21pc2U8Tm90aWZpY2F0aW9uUmVtaW5kZXJSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIGdldCBhIHVzZXIncyBjb250YWN0IGluZm9ybWF0aW9uLCBiYXNlZCBvbiBjZXJ0YWluXG4gICAgICogZmlsdGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250YWN0SW5mb3JtYXRpb25JbnB1dCBjb250YWN0IGluZm9ybWF0aW9uIGlucHV0IHBhc3NlZCBpbiwgY29udGFpbmluZyB0aGVcbiAgICAgKiBmaWx0ZXJzIHVzZWQgdG8gcmV0cmlldmUgdGhlIHVzZXIncyBjb250YWN0IGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgTWlsaXRhcnlWZXJpZmljYXRpb25SZXBvcnRpbmdJbmZvcm1hdGlvblJlc3BvbnNlfSwgcmVwcmVzZW50aW5nIHRoZSB1c2VyJ3MgZmlsdGVyZWRcbiAgICAgKiBjb250YWN0IGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCByZXRyaWV2ZUNvbnRhY3RJbmZvcm1hdGlvbkZvclVzZXI/KGNvbnRhY3RJbmZvcm1hdGlvbklucHV0OiBNaWxpdGFyeVZlcmlmaWNhdGlvblJlcG9ydGluZ0luZm9ybWF0aW9uKTogUHJvbWlzZTxNaWxpdGFyeVZlcmlmaWNhdGlvblJlcG9ydGluZ0luZm9ybWF0aW9uUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBnZXQgYWxsIHRoZSB1c2VycyBlbGlnaWJsZSBmb3IgYSByZWltYnVyc2VtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgVXNlckZvck5vdGlmaWNhdGlvblJlbWluZGVyUmVzcG9uc2V9LCByZXByZXNlbnRpbmcgZWFjaCBpbmRpdmlkdWFsIHVzZXJzJ1xuICAgICAqIHVzZXIgSUQsIGZpcnN0LCBsYXN0IG5hbWUgYW5kIGVtYWlsLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRBbGxVc2Vyc0VsaWdpYmxlRm9yUmVpbWJ1cnNlbWVudHM/KCk6IFByb21pc2U8VXNlckZvck5vdGlmaWNhdGlvblJlbWluZGVyUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBnZXQgYWxsIHRoZSB1c2VycyBpbmVsaWdpYmxlIGZvciBhIHJlaW1idXJzZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBVc2VyRm9yTm90aWZpY2F0aW9uUmVtaW5kZXJSZXNwb25zZX0sIHJlcHJlc2VudGluZyBlYWNoIGluZGl2aWR1YWwgdXNlcnMnXG4gICAgICogdXNlciBJRCwgZmlyc3QsIGxhc3QgbmFtZSBhbmQgZW1haWwuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEFsbFVzZXJzSW5lbGlnaWJsZUZvclJlaW1idXJzZW1lbnRzPygpOiBQcm9taXNlPFVzZXJGb3JOb3RpZmljYXRpb25SZW1pbmRlclJlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IGFsbCB0aGUgdXNlcnMgdXNlZCB0byBkZWxpdmVyZWRcbiAgICAgKiBub3RpZmljYXRpb24gcmVtaW5kZXJzIHRvLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgVXNlckZvck5vdGlmaWNhdGlvblJlbWluZGVyUmVzcG9uc2V9LCByZXByZXNlbnRpbmcgZWFjaCBpbmRpdmlkdWFsIHVzZXJzJ1xuICAgICAqIHVzZXIgSUQsIGZpcnN0LCBsYXN0IG5hbWUgYW5kIGVtYWlsLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRBbGxVc2Vyc0Zvck5vdGlmaWNhdGlvblJlbWluZGVycz8oKTogUHJvbWlzZTxVc2VyRm9yTm90aWZpY2F0aW9uUmVtaW5kZXJSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIGdldCBhbGwgdGhlIHVzZXJzIHVzZWQgdG8gZGVsaXZlciBub3RpZmljYXRpb24gcmVtaW5kZXJzIHRvLFxuICAgICAqIHNvcnRlZCBieSBhIHBhcnRpY3VsYXIgbG9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZ2V0VXNlcnNCeUdlb2dyYXBoaWNhbExvY2F0aW9uSW5wdXQgdGhlIGdlb2xvY2F0aW9uIGlucHV0IHRoYXQgd2UgZmlsdGVyIHVzZXJzIGJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBVc2VyRm9yTm90aWZpY2F0aW9uUmVtaW5kZXJSZXNwb25zZX0sIHJlcHJlc2VudGluZyBlYWNoIGluZGl2aWR1YWwgdXNlcnMnXG4gICAgICogdXNlciBJRCwgZmlyc3QsIGxhc3QgbmFtZSBhbmQgZW1haWwsIHNvcnRlZCBieSBhIHBhcnRpY3VsYXIgbG9jYXRpb24gKGNpdHkgJiBzdGF0ZSBjb21iaW5hdGlvbikuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFVzZXJzQnlHZW9ncmFwaHlGb3JOb3RpZmljYXRpb25SZW1pbmRlcnM/KGdldFVzZXJzQnlHZW9ncmFwaGljYWxMb2NhdGlvbklucHV0IDpHZXRVc2Vyc0J5R2VvZ3JhcGhpY2FsTG9jYXRpb25JbnB1dCk6IFByb21pc2U8VXNlckZvck5vdGlmaWNhdGlvblJlbWluZGVyUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBnZXQgYSB1c2VyJ3MgZW1haWwsIGdpdmVuIGNlcnRhaW4gZmlsdGVycyB0byBiZSBwYXNzZWQgaW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWlsaXRhcnlWZXJpZmljYXRpb25Ob3RpZmljYXRpb25VcGRhdGUgdGhlIG1pbGl0YXJ5IHZlcmlmaWNhdGlvbiBub3RpZmljYXRpb24gdXBkYXRlXG4gICAgICogb2JqZWN0cywgdXNlZCB0byBmaWx0ZXIgdGhyb3VnaCB0aGUgQ29nbml0byB1c2VyIHBvb2wsIGluIG9yZGVyIHRvIG9idGFpbiBhIHVzZXIncyBlbWFpbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIEVtYWlsRnJvbUNvZ25pdG9SZXNwb25zZX0gcmVwcmVzZW50aW5nIHRoZSB1c2VyJ3MgZW1haWwgb2J0YWluZWRcbiAgICAgKiBmcm9tIENvZ25pdG8uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEVtYWlsRm9yVXNlcj8obWlsaXRhcnlWZXJpZmljYXRpb25Ob3RpZmljYXRpb25VcGRhdGU6IE1pbGl0YXJ5VmVyaWZpY2F0aW9uTm90aWZpY2F0aW9uVXBkYXRlKTogUHJvbWlzZTxFbWFpbEZyb21Db2duaXRvUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBnZXQgYSB1c2VyJ3MgZW1haWwsIGdpdmVuIHRoZWlyIGN1c3RvbSB1c2VyOmlkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVzZXJJZCB0aGUgdXNlciBpZCB0byBiZSBwYXNzZWQgaW4sIHVzZWQgdG8gcmV0cmlldmUgc29tZW9uZSdzIGVtYWlsXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBFbWFpbEZyb21Db2duaXRvUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgdXNlcidzIGVtYWlsIG9idGFpbmVkXG4gICAgICogZnJvbSBDb2duaXRvLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRFbWFpbEJ5VXNlcklkPyh1c2VySWQ6IFN0cmluZyk6IFByb21pc2U8RW1haWxGcm9tQ29nbml0b1Jlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IGFsbCB0aGUgb2ZmZXJzLCBnaXZlbiBjZXJ0YWluIGZpbHRlcnMgdG8gYmUgcGFzc2VkIGluLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdldE9mZmVyc0lucHV0IHRoZSBvZmZlcnMgaW5wdXQsIGNvbnRhaW5pbmcgdGhlIGZpbHRlcmluZyBpbmZvcm1hdGlvblxuICAgICAqIHVzZWQgdG8gcmV0cmlldmUgYWxsIHRoZSBhcHBsaWNhYmxlL21hdGNoaW5nIG9mZmVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIE9mZmVyc1Jlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlIG1hdGNoZWQgb2ZmZXJzJyBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0T2ZmZXJzPyhnZXRPZmZlcnNJbnB1dDogR2V0T2ZmZXJzSW5wdXQpOiBQcm9taXNlPE9mZmVyc1Jlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gc2VhcmNoIGFuIG9mZmVyLCBnaXZlbiBjZXJ0YWluIGZpbHRlcnMgdG8gYmUgcGFzc2VkIGluLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNlYXJjaE9mZmVyc0lucHV0IHRoZSBvZmZlcnMgaW5wdXQsIGNvbnRhaW5pbmcgdGhlIGZpbHRlcmluZyBpbmZvcm1hdGlvblxuICAgICAqIHVzZWQgdG8gc2VhcmNoIGFueSBhcHBsaWNhYmxlL21hdGNoaW5nIG9mZmVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIE9mZmVyc1Jlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlIG1hdGNoZWQgb2ZmZXJzJyBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgc2VhcmNoT2ZmZXJzPyhzZWFyY2hPZmZlcnNJbnB1dDogU2VhcmNoT2ZmZXJzSW5wdXQpOiBQcm9taXNlPE9mZmVyc1Jlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IGFsbCBkZXZpY2VzIHdoaWNoIGhhdmUgYSBsaW5rZWQgcHVzaCB0b2tlbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIFVzZXJEZXZpY2VzUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgbWF0Y2hlZCBwaHlzaWNhbCBkZXZpY2VzJyBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0QWxsRGV2aWNlcz8oKTogUHJvbWlzZTxVc2VyRGV2aWNlc1Jlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IGFsbCB0aGUgcGh5c2ljYWwgZGV2aWNlcyBhc3NvY2lhdGVkIHdpdGggYSBwYXJ0aWN1bGFyIHVzZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZ2V0RGV2aWNlc0ZvclVzZXJJbnB1dCB0aGUgZGV2aWNlcyBmb3IgdXNlciBpbnB1dCwgY29udGFpbmluZyB0aGUgZmlsdGVyaW5nIGluZm9ybWF0aW9uXG4gICAgICogdXNlZCB0byByZXRyaWV2ZSBhbGwgdGhlIHBoeXNpY2FsIGRldmljZXMgZm9yIGEgcGFydGljdWxhciB1c2VyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgVXNlckRldmljZXNSZXNwb25zZX0gcmVwcmVzZW50aW5nIHRoZSBtYXRjaGVkIHBoeXNpY2FsIGRldmljZXMnIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXREZXZpY2VzRm9yVXNlcj8oZ2V0RGV2aWNlc0ZvclVzZXJJbnB1dDogR2V0RGV2aWNlc0ZvclVzZXJJbnB1dCk6IFByb21pc2U8VXNlckRldmljZXNSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHNlbmQgYSBtb2JpbGUgcHVzaCBub3RpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2VuZE1vYmlsZVB1c2hOb3RpZmljYXRpb25JbnB1dCB0aGUgbm90aWZpY2F0aW9uIGlucHV0IGRldGFpbHMgdG8gYmUgcGFzc2VkIGluLCBpbiBvcmRlciB0byBzZW5kXG4gICAgICogYSBtb2JpbGUgcHVzaCBub3RpZmljYXRpb25cbiAgICAgKiBAcGFyYW0gbm90aWZpY2F0aW9uVHlwZSB0aGUgdHlwZSBvZiBub3RpZmljYXRpb24gdG8gc2VuZCBtb2JpbGUgcHVzaCBub3RpZmljYXRpb25zIGZvclxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgTm90aWZpY2F0aW9uUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgQ291cmllciBub3RpZmljYXRpb24gcmVzcG9uc2VcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgc2VuZE1vYmlsZVB1c2hOb3RpZmljYXRpb24/KHNlbmRNb2JpbGVQdXNoTm90aWZpY2F0aW9uSW5wdXQ6IFNlbmRNb2JpbGVQdXNoTm90aWZpY2F0aW9uSW5wdXQsIG5vdGlmaWNhdGlvblR5cGU6IE5vdGlmaWNhdGlvblR5cGUpOiBQcm9taXNlPE5vdGlmaWNhdGlvblJlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gc2VuZCBhIGJ1bGsgbW9iaWxlIHB1c2ggbm90aWZpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNlbmRCdWxrTW9iaWxlUHVzaE5vdGlmaWNhdGlvbklucHV0IHRoZSBub3RpZmljYXRpb24gaW5wdXQgZGV0YWlscyB0byBiZSBwYXNzZWQgaW4sIGluIG9yZGVyIHRvIHNlbmRcbiAgICAgKiBhIGJ1bGsgbW9iaWxlIHB1c2ggbm90aWZpY2F0aW9uXG4gICAgICogQHBhcmFtIG5vdGlmaWNhdGlvblR5cGUgdGhlIHR5cGUgb2Ygbm90aWZpY2F0aW9uIHRvIHNlbmQgZW1haWwgbm90aWZpY2F0aW9ucyBmb3JcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIE5vdGlmaWNhdGlvblJlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlIENvdXJpZXIgbm90aWZpY2F0aW9uIHJlc3BvbnNlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHNlbmRCdWxrTW9iaWxlUHVzaE5vdGlmaWNhdGlvbj8oc2VuZEJ1bGtNb2JpbGVQdXNoTm90aWZpY2F0aW9uSW5wdXQ6IFNlbmRCdWxrTW9iaWxlUHVzaE5vdGlmaWNhdGlvbklucHV0LCBub3RpZmljYXRpb25UeXBlOiBOb3RpZmljYXRpb25UeXBlKTogUHJvbWlzZTxOb3RpZmljYXRpb25SZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHNlbmQgYW4gZW1haWwgbm90aWZpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNlbmRFbWFpbE5vdGlmaWNhdGlvbklucHV0IHRoZSBub3RpZmljYXRpb24gaW5wdXQgZGV0YWlscyB0byBiZSBwYXNzZWQgaW4sIGluIG9yZGVyIHRvIHNlbmRcbiAgICAgKiBhbiBlbWFpbCBub3RpZmljYXRpb25cbiAgICAgKiBAcGFyYW0gbm90aWZpY2F0aW9uVHlwZSB0aGUgdHlwZSBvZiBub3RpZmljYXRpb24gdG8gc2VuZCBlbWFpbCBub3RpZmljYXRpb25zIGZvclxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgTm90aWZpY2F0aW9uUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgQ291cmllciBub3RpZmljYXRpb24gcmVzcG9uc2VcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgc2VuZEVtYWlsTm90aWZpY2F0aW9uPyhzZW5kRW1haWxOb3RpZmljYXRpb25JbnB1dDogU2VuZEVtYWlsTm90aWZpY2F0aW9uSW5wdXQsIG5vdGlmaWNhdGlvblR5cGU6IE5vdGlmaWNhdGlvblR5cGUpOiBQcm9taXNlPE5vdGlmaWNhdGlvblJlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gc2VuZCBhIGJ1bGsgZW1haWwgbm90aWZpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNlbmRCdWxrRW1haWxOb3RpZmljYXRpb25JbnB1dCB0aGUgbm90aWZpY2F0aW9uIGlucHV0IGRldGFpbHMgdG8gYmUgcGFzc2VkIGluLCBpbiBvcmRlciB0byBzZW5kXG4gICAgICogYW4gZW1haWwgbm90aWZpY2F0aW9uXG4gICAgICogQHBhcmFtIG5vdGlmaWNhdGlvblR5cGUgdGhlIHR5cGUgb2Ygbm90aWZpY2F0aW9uIHRvIHNlbmQgZW1haWwgbm90aWZpY2F0aW9ucyBmb3JcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIE5vdGlmaWNhdGlvblJlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlIENvdXJpZXIgbm90aWZpY2F0aW9uIHJlc3BvbnNlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHNlbmRCdWxrRW1haWxOb3RpZmljYXRpb24/KHNlbmRCdWxrRW1haWxOb3RpZmljYXRpb25JbnB1dDogU2VuZEJ1bGtFbWFpbE5vdGlmaWNhdGlvbklucHV0LCBub3RpZmljYXRpb25UeXBlOiBOb3RpZmljYXRpb25UeXBlKTogUHJvbWlzZTxOb3RpZmljYXRpb25SZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIGNyZWF0ZSBkYWlseSBlYXJuaW5nIHN1bW1hcmllcyBmb3IgYWxsIGFwcGxpY2FibGUgdXNlcnMsIHdobyBzcGVudFxuICAgICAqIGluIGEgcGFydGljdWxhciBkYXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3JlYXRlRGFpbHlFYXJuaW5nc1N1bW1hcnlJbnB1dCB0aGUgZGFpbHkgZWFybmluZ3Mgc3VtbWFyeSBpbnB1dCB0byBiZSBwYXNzZWQgaW4sIGluIG9yZGVyIHRvXG4gICAgICogY3JlYXRlIGFsbCBhcHBsaWNhYmxlIGRhaWx5IGVhcm5pbmcgc3VtbWFyaWVzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSB7QGxpbmsgRGFpbHlFYXJuaW5nc1N1bW1hcnlSZXNwb25zZX0ge0BsaW5rIFByb21pc2V9LCByZXByZXNlbnRpbmcgdGhlIG5ld2x5IGNyZWF0ZWQgZGFpbHkgc3VtbWFyaWVzLFxuICAgICAqIGZvciBhbGwgYXBwbGljYWJsZSB1c2Vycy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY3JlYXRlRGFpbHlFYXJuaW5nc1N1bW1hcnk/KGNyZWF0ZURhaWx5RWFybmluZ3NTdW1tYXJ5SW5wdXQ6IENyZWF0ZURhaWx5RWFybmluZ3NTdW1tYXJ5SW5wdXQpOiBQcm9taXNlPERhaWx5RWFybmluZ3NTdW1tYXJ5UmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBjcmVhdGUgYSBub3RpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3JlYXRlTm90aWZpY2F0aW9uSW5wdXQgdGhlIG5vdGlmaWNhdGlvbiBkZXRhaWxzIHRvIGJlIHBhc3NlZCBpbiwgaW4gb3JkZXIgdG8gY3JlYXRlIGEgbmV3XG4gICAgICogbm90aWZpY2F0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBDcmVhdGVOb3RpZmljYXRpb25SZXNwb25zZX0gcmVwcmVzZW50aW5nIHRoZSBuZXdseSBjcmVhdGVkIG5vdGlmaWNhdGlvbiBkYXRhXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNyZWF0ZU5vdGlmaWNhdGlvbj8oY3JlYXRlTm90aWZpY2F0aW9uSW5wdXQ6IENyZWF0ZU5vdGlmaWNhdGlvbklucHV0KTogUHJvbWlzZTxDcmVhdGVOb3RpZmljYXRpb25SZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIGNyZWF0ZSBhIGJ1bGsgbm90aWZpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNyZWF0ZUJ1bGtOb3RpZmljYXRpb25JbnB1dCB0aGUgYnVsayBub3RpZmljYXRpb24gZGV0YWlscyB0byBiZSBwYXNzZWQgaW4sIGluIG9yZGVyIHRvIGNyZWF0ZSBhIG5ld1xuICAgICAqIGJ1bGsgbm90aWZpY2F0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBDcmVhdGVCdWxrTm90aWZpY2F0aW9uUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgbmV3bHkgY3JlYXRlZCBidWxrIG5vdGlmaWNhdGlvbiBkYXRhXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUJ1bGtOb3RpZmljYXRpb24/KGNyZWF0ZUJ1bGtOb3RpZmljYXRpb25JbnB1dDogQ3JlYXRlQnVsa05vdGlmaWNhdGlvbklucHV0KTogUHJvbWlzZTxDcmVhdGVCdWxrTm90aWZpY2F0aW9uUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBnZXQgYWxsIHRyYW5zYWN0aW9ucywgZm9yIGEgcGFydGljdWxhciB1c2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGdldFRyYW5zYWN0aW9uSW5wdXQgdGhlIHRyYW5zYWN0aW9uIGlucHV0IG9iamVjdCB0byBiZSBwYXNzZWQgaW4sXG4gICAgICogY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBmaWx0ZXJpbmcgZm9yIHJldHJpZXZpbmcgdGhlIHRyYW5zYWN0aW9ucyBmb3IgYSBwYXJ0aWN1bGFyIHVzZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBNb29uYmVhbVRyYW5zYWN0aW9uc1Jlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlIHRyYW5zYWN0aW9uYWwgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0VHJhbnNhY3Rpb24/KGdldFRyYW5zYWN0aW9uSW5wdXQ6IEdldFRyYW5zYWN0aW9uSW5wdXQpOiBQcm9taXNlPE1vb25iZWFtVHJhbnNhY3Rpb25zUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBnZXQgYWxsIHRyYW5zYWN0aW9ucywgaW4gYSBwYXJ0aWN1bGFyIHRpbWUgcmFuZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZ2V0VHJhbnNhY3Rpb25zSW5SYW5nZUlucHV0IHRoZSB0cmFuc2FjdGlvbiBpbiByYW5nZSBpbnB1dCBvYmplY3QgdG8gYmUgcGFzc2VkIGluLFxuICAgICAqIGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgZmlsdGVyaW5nIGZvciByZXRyaWV2aW5nIHRoZSB0cmFuc2FjdGlvbnMgaW4gYSBwYXJ0aWN1bGFyIHRpbWUgcmFuZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBNb29uYmVhbVRyYW5zYWN0aW9uc1Jlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlIHRyYW5zYWN0aW9uYWwgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0VHJhbnNhY3Rpb25zSW5SYW5nZT8oZ2V0VHJhbnNhY3Rpb25zSW5SYW5nZUlucHV0OiBHZXRUcmFuc2FjdGlvbnNJblJhbmdlSW5wdXQpOiBQcm9taXNlPE1vb25iZWFtVHJhbnNhY3Rpb25zUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBnZXQgYWxsIHRyYW5zYWN0aW9ucywgZm9yIGEgcGFydGljdWxhciB1c2VyLCBmaWx0ZXJlZFxuICAgICAqIGJ5IHRoZWlyIHN0YXR1cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBnZXRUcmFuc2FjdGlvbkJ5U3RhdHVzSW5wdXQgdGhlIHRyYW5zYWN0aW9uIGJ5IHN0YXR1cyBpbnB1dCBvYmplY3QgdG8gYmUgcGFzc2VkIGluLFxuICAgICAqIGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgZmlsdGVyaW5nIGZvciByZXRyaWV2aW5nIHRoZSB0cmFuc2FjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHtAbGluayBNb29uYmVhbVRyYW5zYWN0aW9uc0J5U3RhdHVzUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgdHJhbnNhY3Rpb25hbCBkYXRhLFxuICAgICAqIGZpbHRlcmVkIGJ5IHN0YXR1cyByZXNwb25zZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRUcmFuc2FjdGlvbkJ5U3RhdHVzPyhnZXRUcmFuc2FjdGlvbkJ5U3RhdHVzSW5wdXQ6IEdldFRyYW5zYWN0aW9uQnlTdGF0dXNJbnB1dCk6IFByb21pc2U8TW9vbmJlYW1UcmFuc2FjdGlvbnNCeVN0YXR1c1Jlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gdXBkYXRlIGFuIGV4aXN0aW5nIHRyYW5zYWN0aW9uJ3MgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1cGRhdGVUcmFuc2FjdGlvbklucHV0IHRoZSB0cmFuc2FjdGlvbiBkZXRhaWxzIHRvIGJlIHBhc3NlZCBpbiwgaW4gb3JkZXIgdG8gdXBkYXRlXG4gICAgICogYW4gZXhpc3RpbmcgdHJhbnNhY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEge0BsaW5rIE1vb25iZWFtVXBkYXRlZFRyYW5zYWN0aW9uUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgdXBkYXRlZCB0cmFuc2FjdGlvblxuICAgICAqIGRhdGFcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdXBkYXRlVHJhbnNhY3Rpb24/KHVwZGF0ZVRyYW5zYWN0aW9uSW5wdXQ6IFVwZGF0ZVRyYW5zYWN0aW9uSW5wdXQpOiBQcm9taXNlPE1vb25iZWFtVXBkYXRlZFRyYW5zYWN0aW9uUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBzZW5kIGEgbmV3IG1pbGl0YXJ5IHZlcmlmaWNhdGlvbiBzdGF0dXMgYWNrbm93bGVkZ21lbnQsIHNvIHdlIGNhbiBraWNrLXN0YXJ0IHRoZSBtaWxpdGFyeSB2ZXJpZmljYXRpb25cbiAgICAgKiBzdGF0dXMgdXBkYXRlIG5vdGlmaWNhdGlvbiBwcm9jZXNzIHRocm91Z2ggdGhlIHByb2R1Y2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1pbGl0YXJ5VmVyaWZpY2F0aW9uTm90aWZpY2F0aW9uVXBkYXRlIG1pbGl0YXJ5IHZlcmlmaWNhdGlvbiB1cGRhdGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEge0BsaW5rIFByb21pc2V9IG9mIHtAbGluayBBUElHYXRld2F5UHJveHlSZXN1bHR9IHJlcHJlc2VudGluZyB0aGUgQVBJIEdhdGV3YXkgcmVzdWx0XG4gICAgICogc2VudCBieSB0aGUgbWlsaXRhcnkgdmVyaWZpY2F0aW9uIHVwZGF0ZSBwcm9kdWNlciBMYW1iZGEsIHRvIHZhbGlkYXRlIHdoZXRoZXIgdGhlIG1pbGl0YXJ5IHZlcmlmaWNhdGlvblxuICAgICAqIG5vdGlmaWNhdGlvbiB1cGRhdGUgcHJvY2VzcyBraWNrLXN0YXJ0ZWQgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIG1pbGl0YXJ5VmVyaWZpY2F0aW9uVXBkYXRlc0Fja25vd2xlZGdtZW50PyhtaWxpdGFyeVZlcmlmaWNhdGlvbk5vdGlmaWNhdGlvblVwZGF0ZTogTWlsaXRhcnlWZXJpZmljYXRpb25Ob3RpZmljYXRpb25VcGRhdGUpOiBQcm9taXNlPEFQSUdhdGV3YXlQcm94eVJlc3VsdD47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHNlbmQgYSBuZXcgdHJhbnNhY3Rpb24gYWNrbm93bGVkZ21lbnQsIGZvciBhbiB1cGRhdGVkIHRyYW5zYWN0aW9uLCBzbyB3ZSBjYW4ga2ljay1zdGFydCB0aGVcbiAgICAgKiB0cmFuc2FjdGlvbiBwcm9jZXNzIHRocm91Z2ggdGhlIHRyYW5zYWN0aW9uIHByb2R1Y2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVwZGF0ZWRUcmFuc2FjdGlvbkV2ZW50IHVwZGF0ZWQgdHJhbnNhY3Rpb24gZXZlbnQgdG8gYmUgcGFzc2VkIGluXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEge0BsaW5rIFByb21pc2V9IG9mIHtAbGluayBBUElHYXRld2F5UHJveHlSZXN1bHR9IHJlcHJlc2VudGluZyB0aGUgQVBJIEdhdGV3YXkgcmVzdWx0XG4gICAgICogc2VudCBieSB0aGUgcmVpbWJ1cnNlbWVudCBwcm9kdWNlciBMYW1iZGEsIHRvIHZhbGlkYXRlIHdoZXRoZXIgdGhlIHRyYW5zYWN0aW9ucyBwcm9jZXNzIHdhc1xuICAgICAqIGtpY2stc3RhcnRlZCBvciBub3QuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHRyYW5zYWN0aW9uc0Fja25vd2xlZGdtZW50Pyh1cGRhdGVkVHJhbnNhY3Rpb25FdmVudDogVXBkYXRlZFRyYW5zYWN0aW9uRXZlbnQpOiBQcm9taXNlPEFQSUdhdGV3YXlQcm94eVJlc3VsdD47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIGNyZWF0ZSBhIG5ldyB0cmFuc2FjdGlvbiBpbnRlcm5hbGx5LCBmcm9tIGFuIGluY29taW5nIHRyYW5zYWN0aW9uXG4gICAgICogb2J0YWluZWQgZnJvbSB0aGUgU1FTIG1lc3NhZ2UvZXZlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiB0cmFuc2FjdGlvbiBwYXNzZWQgaW4gZnJvbSB0aGUgU1FTIG1lc3NhZ2UvZXZlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSB7QGxpbmsgUHJvbWlzZX0gb2Yge0BsaW5rIE1vb25iZWFtVHJhbnNhY3Rpb25SZXNwb25zZX0gcmVwcmVzZW50aW5nIHRoZSB0cmFuc2FjdGlvblxuICAgICAqIGRldGFpbHMgdGhhdCB3ZXJlIHN0b3JlZCBpbiBEeW5hbW8gREJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY3JlYXRlVHJhbnNhY3Rpb24/KHRyYW5zYWN0aW9uOiBNb29uYmVhbVRyYW5zYWN0aW9uKTogUHJvbWlzZTxNb29uYmVhbVRyYW5zYWN0aW9uUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byByZXRyaWV2ZSB0aGUgZGV0YWlscyBvZiBhIGdpdmVuIGNhcmQsIGdpdmVuIGl0cyBjb3JyZXNwb25kaW5nIGlkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhcmRJZCB0aGUgaWQgb2YgdGhlIGNhcmQgdG8gcmV0cmlldmUgdGhlIGRldGFpbHMgZm9yXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEge2xpbmsgUHJvbWlzZX0gb2Yge0BsaW5rIENhcmREZXRhaWxzUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgZXhwaXJhdGlvbiBkYXRlIG9mXG4gICAgICogdGhlIGNhcmQgdG8gYmUgcmV0cmlldmVkLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRDYXJkRGV0YWlscz8oY2FyZElkOiBzdHJpbmcpOiBQcm9taXNlPENhcmREZXRhaWxzUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byByZXRyaWV2ZSB0aGUgdXBkYXRlIHRoZSBkZXRhaWxzIG9mIGEgZ2l2ZW4gY2FyZC4gVGhpcyB3aWxsIGVzcGVjaWFsbHkgYmUgdXNlZFxuICAgICAqIHdoZW4gdXBkYXRpbmcgaXRzIGV4cGlyYXRpb24gZGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSB7bGluayBQcm9taXNlfSBvZiB7QGxpbmsgRWxpZ2libGVMaW5rZWRVc2Vyc1Jlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlIHVzZXIgd2l0aCB0aGVcbiAgICAgKiB1cGRhdGVkIGNhcmQgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdXBkYXRlQ2FyZERldGFpbHM/KHVwZGF0ZUNhcmRJbnB1dDogVXBkYXRlQ2FyZElucHV0KTogUHJvbWlzZTxFbGlnaWJsZUxpbmtlZFVzZXJzUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byByZXRyaWV2ZSB0aGUgbGlzdCBvZiBlbGlnaWJsZSBsaW5rZWQgdXNlcnMsIHRvIGJlIHVzZXIgZHVyaW5nIHRoZSByZWltYnVyc2VtZW50c1xuICAgICAqIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEge2xpbmsgUHJvbWlzZX0gb2Yge0BsaW5rIEVsaWdpYmxlTGlua2VkVXNlcnNSZXNwb25zZX0gcmVwcmVzZW50aW5nIHRoZSBsaXN0IG9mIGVsaWdpYmxlXG4gICAgICogdXNlcnNcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0RWxpZ2libGVMaW5rZWRVc2Vycz8oKTogUHJvbWlzZTxFbGlnaWJsZUxpbmtlZFVzZXJzUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byB2ZXJpZnkgYW4gaW5kaXZpZHVhbCdzIG1pbGl0YXJ5IHNlcnZpY2Ugc3RhdHVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG51bWJlck9mQ2FsbHMgb3B0aW9uYWwgcGFyYW0sIHVzZWQgZm9yIHVzZSBjYXNlcyB3aGVuIHdlIHJlY3Vyc2l2ZWx5IGNhbGxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZ1bmN0aW9uIGluIG9yZGVyIHRvIG1ha2UgYWRkaXRpb25hbCBjYWxscyB0byBRdWFuZGlzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgZm9yIHVzZXJzIHdobyBsaXN0IGFuIGluY29ycmVjdCBlbmxpc3RtZW50IHllYXIgYXQgZmlyc3RcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAobm90IGFwcGxpY2FibGUgZm9yIHRoZSBWQSlcbiAgICAgKiBAcGFyYW0gbmV3RW5saXN0bWVudFllYXIgb3B0aW9uYWwgcGFyYW0sIHJlcHJlc2VudGluZyBuZXcgZW5saXN0bWVudCB5ZWFyIGZvciB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjdXJzaXZlIGNhbGwgKG5vdCBhcHBsaWNhYmxlIGZvciB0aGUgVkEpLlxuICAgICAqXG4gICAgICogQHJldHVybiBhIHtAbGluayBQcm9taXNlfSBvZiB7QGxpbmsgTWlsaXRhcnlWZXJpZmljYXRpb25TdGF0dXNUeXBlfSByZXByZXNlbnRpbmcgdGhlXG4gICAgICogbWlsaXRhcnkgdmVyaWZpY2F0aW9uIHN0YXR1cyBvYnRhaW5lZCBmcm9tIHRoZSBjbGllbnQgdmVyaWZpY2F0aW9uIGNhbGxcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdmVyaWZ5U2VydmljZU1lbWJlcj8obnVtYmVyT2ZDYWxscz86IG51bWJlciwgbmV3RW5saXN0bWVudFllYXI/OiBudW1iZXIpOiBQcm9taXNlPE1pbGl0YXJ5VmVyaWZpY2F0aW9uU3RhdHVzVHlwZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHZlcmlmeSBhbiBpbmRpdmlkdWFsJ3Mgc3BvdXNlJ3MgbWlsaXRhcnkgc2VydmljZSBzdGF0dXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEge0BsaW5rIFByb21pc2V9IG9mIHtAbGluayBNaWxpdGFyeVZlcmlmaWNhdGlvblN0YXR1c1R5cGV9IHJlcHJlc2VudGluZyB0aGVcbiAgICAgKiBtaWxpdGFyeSB2ZXJpZmljYXRpb24gc3RhdHVzIG9idGFpbmVkIGZyb20gdGhlIGNsaWVudCB2ZXJpZmljYXRpb24gY2FsbFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCB2ZXJpZnlNZW1iZXJTcG91c2U/KCk6IFByb21pc2U8TWlsaXRhcnlWZXJpZmljYXRpb25TdGF0dXNUeXBlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gY29tcGxldGUgdGhlIGxpbmtpbmcgb2YgYW4gaW5kaXZpZHVhbCdzIGNhcmQgb24gdGhlIHBsYXRmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVzZXJJZCB1bmlxdWUgdXNlciBJRCBvZiBhIGNhcmQgbGlua2luZyB1c2VyLlxuICAgICAqIEBwYXJhbSBjcmVhdGVkQXQgY2FyZCBsaW5rZWQgb2JqZWN0IGNyZWF0aW9uIGRhdGVcbiAgICAgKiBAcGFyYW0gdXBkYXRlZEF0IGNhcmQgbGlua2VkIG9iamVjdCB1cGRhdGUgZGF0ZVxuICAgICAqIEBwYXJhbSBjYXJkIGNhcmQgaW5mb3JtYXRpb24gdG8gYmUgdXNlZCBkdXJpbmcgdGhlIGVucm9sbG1lbnQvbGlua2luZyBwcm9jZXNzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEge0BsaW5rIFByb21pc2V9IG9mIHtAbGluayBDYXJkTGlua1Jlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlXG4gICAgICogY2FyZCBsaW5rIHJlc3BvbnNlIG9iamVjdCBvYnRhaW5lZCBmcm9tIHRoZSBsaW5raW5nIGNhbGxcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgbGluaz8odXNlcklkOiBzdHJpbmcsIGNyZWF0ZWRBdDogc3RyaW5nLCB1cGRhdGVkQXQ6IHN0cmluZywgY2FyZDogQ2FyZCk6IFByb21pc2U8Q2FyZExpbmtSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIGFkZCBhIG5ldyBjYXJkIHRvIGFuIGV4aXN0aW5nIG1lbWJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1c2VySWQgdW5pcXVlIHVzZXIgSUQgb2YgYSBjYXJkIGxpbmtpbmcgdXNlci5cbiAgICAgKiBAcGFyYW0gbWVtYmVySWQgbWVtYmVyIGlkLCByZXRyaWV2ZWQgZnJvbSBPbGl2ZSwgd2hpY2ggdGhlIGNhcmQgd2lsbCBiZSBhZGRlZCB0b1xuICAgICAqIEBwYXJhbSBjcmVhdGVkQXQgY2FyZCBsaW5rZWQgb2JqZWN0IGNyZWF0aW9uIGRhdGVcbiAgICAgKiBAcGFyYW0gdXBkYXRlZEF0IGNhcmQgbGlua2VkIG9iamVjdCB1cGRhdGUgZGF0ZVxuICAgICAqIEBwYXJhbSBjYXJkIGNhcmQgaW5mb3JtYXRpb24gdG8gYmUgdXNlZCBpbiBhZGRpbmcgYSBuZXcgY2FyZCB0byBhIG1lbWJlclxuICAgICAqXG4gICAgICogQHJldHVybiBhIHtAbGluayBQcm9taXNlfSBvZiB7QGxpbmsgQ2FyZExpbmtSZXNwb25zZX0gcmVwcmVzZW50aW5nIHRoZVxuICAgICAqIGNhcmQgbGluayByZXNwb25zZSBvYmplY3Qgb2J0YWluZWQgZnJvbSB0aGUgYWRkIGNhcmQgY2FsbFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhZGRDYXJkPyh1c2VySWQ6IHN0cmluZywgbWVtYmVySWQ6IHN0cmluZywgY3JlYXRlZEF0OiBzdHJpbmcsIHVwZGF0ZWRBdDogc3RyaW5nLCBjYXJkOiBDYXJkKTogUHJvbWlzZTxDYXJkTGlua1Jlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gdXBkYXRlIGEgbWVtYmVyJ3Mgc3RhdHVzLCB0byBlaXRoZXIgYWN0aXZlIG9yIGluYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVzZXJJZCB1bmlxdWUgdXNlciBJRCBvZiBhIGNhcmQgbGlua2luZyB1c2VyLlxuICAgICAqIEBwYXJhbSBtZW1iZXJJZCBtZW1iZXIgaWQsIHJldHJpZXZlZCBmcm9tIE9saXZlLCB3aGljaCB0aGUgc3RhdHVzIHdpbGwgYmUgdXBkYXRlZCBmb3JcbiAgICAgKiBAcGFyYW0gbWVtYmVyRmxhZyBmbGFnIHRvIGluZGljYXRlIHdoYXQgdGhlIHN0YXR1cyBvZiB0aGUgbWVtYmVyLCB3aWxsIGJlIHVwZGF0ZWQgdG9cbiAgICAgKiBAcGFyYW0gdXBkYXRlZEF0IGNhcmQgbGlua2VkIG9iamVjdCB1cGRhdGUgZGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiBhIHtAbGluayBQcm9taXNlfSBvZiB7QGxpbmsgTWVtYmVyUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGVcbiAgICAgKiBtZW1iZXIncyBjb250ZW50cyBhZnRlciB0aGUgdXBkYXRlIGlzIHBlcmZvcm1lZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCB1cGRhdGVNZW1iZXJTdGF0dXM/KHVzZXJJZDogc3RyaW5nLCBtZW1iZXJJZDogc3RyaW5nLCBtZW1iZXJGbGFnOiBib29sZWFuLCB1cGRhdGVkQXQ6IHN0cmluZyk6IFByb21pc2U8TWVtYmVyUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byByZW1vdmUvZGVhY3RpdmF0ZSBhIGNhcmQsIGdpdmVuIGl0cyBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYXJkSWQgdGhlIGlkIG9mIHRoZSBjYXJkIHRvIGJlIHJlbW92ZWQvZGVsZXRlZC9kZWFjdGl2YXRlZFxuICAgICAqXG4gICAgICogQHJldHVybiBhIHtAbGluayBQcm9taXNlfSBvZiB7QGxpbmsgUmVtb3ZlQ2FyZFJlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlXG4gICAgICogY2FyZCByZW1vdmFsIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCByZW1vdmVDYXJkPyhjYXJkSWQ6IHN0cmluZyk6IFByb21pc2U8UmVtb3ZlQ2FyZFJlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gcmV0cmlldmUgdGhlIGJyYW5kIGRldGFpbHMsIGdpdmVuIGEgYnJhbmQgSUQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNhY3Rpb24gdGhlIHRyYW5zYWN0aW9uIG9iamVjdCwgcG9wdWxhdGVkIGJ5IHRoZSBpbml0aWFsIGRldGFpbHNcbiAgICAgKiBwYXNzZWQgaW4gYnkgT2xpdmUuIFRoaXMgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBzZXQgZXZlbiBtb3JlIGluZm9ybWF0aW9uIGZvclxuICAgICAqIGl0LCBvYnRhaW5lZCBmcm9tIHRoaXMgYnJhbmQgY2FsbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSB7QGxpbmsgUHJvbWlzZX0gb2Yge0BsaW5rIFRyYW5zYWN0aW9uUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKiB3aXRoIHRoZSBicmFuZCBkZXRhaWxzIG9idGFpbmVkLCBpbmNsdWRlZCBpbiBpdC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0QnJhbmREZXRhaWxzPyh0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pOiBQcm9taXNlPFRyYW5zYWN0aW9uUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byByZXRyaWV2ZSB0aGUgYnJhbmQgZGV0YWlscywgZ2l2ZW4gYSBicmFuZCBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiB0aGUgdHJhbnNhY3Rpb24gb2JqZWN0LCBwb3B1bGF0ZWQgYnkgdGhlIGluaXRpYWwgZGV0YWlsc1xuICAgICAqIHBhc3NlZCBpbiBieSBPbGl2ZS4gVGhpcyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIHNldCBldmVuIG1vcmUgaW5mb3JtYXRpb24gZm9yXG4gICAgICogaXQsIG9idGFpbmVkIGZyb20gdGhpcyBicmFuZCBjYWxsLlxuICAgICAqXG4gICAgICogQHJldHVybiBhIHtAbGluayBQcm9taXNlfSBvZiB7QGxpbmsgSW5lbGlnaWJsZVRyYW5zYWN0aW9uUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKiB3aXRoIHRoZSBicmFuZCBkZXRhaWxzIG9idGFpbmVkLCBpbmNsdWRlZCBpbiBpdC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0QnJhbmREZXRhaWxzRm9ySW5lbGlnaWJsZT8odHJhbnNhY3Rpb246IEluZWxpZ2libGVUcmFuc2FjdGlvbik6IFByb21pc2U8SW5lbGlnaWJsZVRyYW5zYWN0aW9uUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byByZXRyaWV2ZSB0aGUgc3RvcmUgZGV0YWlscywgZ2l2ZW4gYSBzdG9yZSBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiB0aGUgdHJhbnNhY3Rpb24gb2JqZWN0LCBwb3B1bGF0ZWQgYnkgdGhlIGluaXRpYWwgZGV0YWlsc1xuICAgICAqIHBhc3NlZCBpbiBieSBPbGl2ZS4gVGhpcyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIHNldCBldmVuIG1vcmUgaW5mb3JtYXRpb24gZm9yXG4gICAgICogaXQsIG9idGFpbmVkIGZyb20gdGhpcyBicmFuZCBjYWxsLlxuICAgICAqXG4gICAgICogQHJldHVybiBhIHtAbGluayBQcm9taXNlfSBvZiB7QGxpbmsgSW5lbGlnaWJsZVRyYW5zYWN0aW9uUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKiB3aXRoIHRoZSBzdG9yZSBkZXRhaWxzIG9idGFpbmVkLCBpbmNsdWRlZCBpbiBpdC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0U3RvcmVEZXRhaWxzRm9ySW5lbGlnaWJsZT8odHJhbnNhY3Rpb246IEluZWxpZ2libGVUcmFuc2FjdGlvbik6IFByb21pc2U8SW5lbGlnaWJsZVRyYW5zYWN0aW9uUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byByZXRyaWV2ZSB0aGUgc3RvcmUgZGV0YWlscywgZ2l2ZW4gYSBzdG9yZSBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiB0aGUgdHJhbnNhY3Rpb24gb2JqZWN0LCBwb3B1bGF0ZWQgYnkgdGhlIGluaXRpYWwgZGV0YWlsc1xuICAgICAqIHBhc3NlZCBpbiBieSBPbGl2ZS4gVGhpcyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIHNldCBldmVuIG1vcmUgaW5mb3JtYXRpb24gZm9yXG4gICAgICogaXQsIG9idGFpbmVkIGZyb20gdGhpcyBicmFuZCBjYWxsLlxuICAgICAqXG4gICAgICogQHJldHVybiBhIHtAbGluayBQcm9taXNlfSBvZiB7QGxpbmsgVHJhbnNhY3Rpb25SZXNwb25zZX0gb3Ige0BsaW5rIEluZWxpZ2libGVUcmFuc2FjdGlvblJlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlIHRyYW5zYWN0aW9uXG4gICAgICogd2l0aCB0aGUgc3RvcmUgZGV0YWlscyBvYnRhaW5lZCwgaW5jbHVkZWQgaW4gaXQuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFN0b3JlRGV0YWlscz8odHJhbnNhY3Rpb246IFRyYW5zYWN0aW9uICk6IFByb21pc2U8VHJhbnNhY3Rpb25SZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIHRoZSBtZW1iZXIgZGV0YWlscywgc3BlY2lmaWNhbGx5IHRoZSBleHRNZW1iZXJJZCwgd2hpY2ggaXMgTW9vbmJlYW0ncyB1bmlxdWUgdXNlciBJRFxuICAgICAqIHNldCBhdCBjcmVhdGlvbiB0aW1lLCBnaXZlbiBhIG1lbWJlciBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZW1iZXJJZCBtZW1iZXIgSUQgb2J0YWluZWQgZnJvbSBPbGl2ZSBhdCBjcmVhdGlvbiB0aW1lLCB1c2VkIHRvIHJldHJpZXZlIHRoZVxuICAgICAqIG90aGVyIG1lbWJlciBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHJldHVybiBhIHtAbGluayBQcm9taXNlfSBvZiB7QGxpbmsgTWVtYmVyRGV0YWlsc1Jlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlIG1lbWJlciBkZXRhaWxzXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldE1lbWJlckRldGFpbHM/KG1lbWJlcklkOiBzdHJpbmcpOiBQcm9taXNlPE1lbWJlckRldGFpbHNSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIHRoZSB0cmFuc2FjdGlvbiBkZXRhaWxzLCBnaXZlbiBhIHRyYW5zYWN0aW9uIElEXG4gICAgICogKHVzZWQgZm9yIHRyYW5zYWN0aW9uYWwgcHVycG9zZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zYWN0aW9uIHRoZSB0cmFuc2FjdGlvbiBvYmplY3QsIHBvcHVsYXRlZCBieSB0aGUgaW5pdGlhbCBkZXRhaWxzXG4gICAgICogcGFzc2VkIGluIGJ5IE9saXZlLiBUaGlzIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gc2V0IGV2ZW4gbW9yZSBpbmZvcm1hdGlvbiBmb3JcbiAgICAgKiBpdCwgb2J0YWluZWQgZnJvbSB0aGlzIHRyYW5zYWN0aW9uIGRldGFpbHMgY2FsbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSB7QGxpbmsgUHJvbWlzZX0gb2Yge0BsaW5rIEluZWxpZ2libGVUcmFuc2FjdGlvblJlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlXG4gICAgICogdHJhbnNhY3Rpb24gb2JqZWN0LCBwb3B1bGF0ZWQgd2l0aCB0aGUgYWRkaXRpb25hbCB0cmFuc2FjdGlvbiBkZXRhaWxzIHRoYXQgd2UgcmV0cmlldmVkLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRUcmFuc2FjdGlvbkRldGFpbHNGb3JJbmVsaWdpYmxlPyh0cmFuc2FjdGlvbjogSW5lbGlnaWJsZVRyYW5zYWN0aW9uKTogUHJvbWlzZTxJbmVsaWdpYmxlVHJhbnNhY3Rpb25SZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIHRoZSB0cmFuc2FjdGlvbiBkZXRhaWxzLCBnaXZlbiBhIHRyYW5zYWN0aW9uIElEXG4gICAgICogKHVzZWQgZm9yIHRyYW5zYWN0aW9uYWwgcHVycG9zZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zYWN0aW9uIHRoZSB0cmFuc2FjdGlvbiBvYmplY3QsIHBvcHVsYXRlZCBieSB0aGUgaW5pdGlhbCBkZXRhaWxzXG4gICAgICogcGFzc2VkIGluIGJ5IE9saXZlLiBUaGlzIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gc2V0IGV2ZW4gbW9yZSBpbmZvcm1hdGlvbiBmb3JcbiAgICAgKiBpdCwgb2J0YWluZWQgZnJvbSB0aGlzIHRyYW5zYWN0aW9uIGRldGFpbHMgY2FsbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSB7QGxpbmsgUHJvbWlzZX0gb2Yge0BsaW5rIFRyYW5zYWN0aW9uUmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGVcbiAgICAgKiB0cmFuc2FjdGlvbiBvYmplY3QsIHBvcHVsYXRlZCB3aXRoIHRoZSBhZGRpdGlvbmFsIHRyYW5zYWN0aW9uIGRldGFpbHMgdGhhdCB3ZSByZXRyaWV2ZWQuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFRyYW5zYWN0aW9uRGV0YWlscz8odHJhbnNhY3Rpb246IFRyYW5zYWN0aW9uKTogUHJvbWlzZTxUcmFuc2FjdGlvblJlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gdXBkYXRlIGEgdHJhbnNhY3Rpb24gYnkgc3BlY2lmeWluZyB0aGUgYW1vdW50IGRpc3RyaWJ1dGVkIHRvIHRoZSBtZW1iZXJcbiAgICAgKiBkdXJpbmcgYSBjYXNoLW91dC9yZWltYnVyc2VtZW50LCBnaXZlbiBpdHMgdHJhbnNhY3Rpb24gSUQuXG4gICAgICogKHVzZWQgZm9yIHJlaW1idXJzZW1lbnRzL2Nhc2gtb3V0IHB1cnBvc2VzKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbklkIHRoZSBpZCBvZiB0aGUgdHJhbnNhY3Rpb24gdG8gYmUgdXBkYXRlZFxuICAgICAqIEBwYXJhbSBkaXN0cmlidXRlZFRvTWVtYmVyQW1vdW50IHRoZSBhbW91bnQgZGlzdHJpYnV0ZWQgdG8gdGhlIG1lbWJlciBkdXJpbmcgdGhlIGNhc2gtb3V0L3JlaW1idXJzZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSB7QGxpbmsgUHJvbWlzZX0gb2Yge0BsaW5rIFJlaW1idXJzZW1lbnRQcm9jZXNzaW5nUmVzcG9uc2V9IHJlcHJlc2VudGluZyBhXG4gICAgICogZmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHJlaW1idXJzZW1lbnQgcHJvY2VzcyBjYW4gY29udGludWUgb3Igbm90LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCB1cGRhdGVUcmFuc2FjdGlvblN0YXR1cz8odHJhbnNhY3Rpb25JZDogc3RyaW5nLCBkaXN0cmlidXRlZFRvTWVtYmVyQW1vdW50OiBudW1iZXIpOiBQcm9taXNlPFJlaW1idXJzZW1lbnRQcm9jZXNzaW5nUmVzcG9uc2U+O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byByZXRyaWV2ZSB0aGUgb2ZmZXIgaWQsIG9idGFpbmVkIGZyb20gYSB0cmFuc2FjdGlvbiBvYmplY3QsIGdpdmVuXG4gICAgICogYSB0cmFuc2FjdGlvbiBpZGVudGlmaWVyICh1c2VkIGZvciB0cmFuc2FjdGlvbmFsIHB1cnBvc2VzKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbklkIHRoZSBpZCBvZiB0aGUgdHJhbnNhY3Rpb24sIHVzZWQgdG8gcmV0cmlldmUgdGhlIG9mZmVyIGlkXG4gICAgICogZnJvbS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSB7QGxpbmsgUHJvbWlzZX0gb2Yge0BsaW5rIE9mZmVySWRSZXNwb25zZX0gcmVwcmVzZW50aW5nIHRoZSBvZmZlciBpZFxuICAgICAqIGFuZC9vciB0aGUgcmVkZWVtZWQgb2ZmZXIgaWQsIG9idGFpbmVkIGZyb20gdGhlIHRyYW5zYWN0aW9uIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldE9mZmVySWQ/KHRyYW5zYWN0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8T2ZmZXJJZFJlc3BvbnNlPjtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gcmV0cmlldmUgdGhlIHR5cGUgb2Ygb2ZmZXIgcmVkZW1wdGlvbiwgb2J0YWluZWQgZnJvbSB0aGUgb2ZmZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9mZmVySWQgdGhlIGlkIG9mIHRoZSBvZmZlciwgdXNlZCB0byByZXRyaWV2ZSB0aGUgdHlwZSBvZiByZWRlbXB0aW9uIGZvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSB7QGxpbmsgUHJvbWlzZX0gb2Yge0BsaW5rIE9mZmVyUmVkZW1wdGlvblR5cGVSZXNwb25zZX0gcmVwcmVzZW50aW5nIHRoZSByZWRlbXB0aW9uXG4gICAgICogdHlwZSwgb2J0YWluZWQgZnJvbSB0aGUgb2ZmZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRPZmZlclJlZGVtcHRpb25UeXBlPyhvZmZlcklkOiBzdHJpbmcpOiBQcm9taXNlPE9mZmVyUmVkZW1wdGlvblR5cGVSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIHRoZSB0cmFuc2FjdGlvbiBkZXRhaWxzLCBnaXZlbiBhIHRyYW5zYWN0aW9uIElEICh1c2VkIGZvciB1cGRhdGVkXG4gICAgICogdHJhbnNhY3Rpb25hbCBldmVudHMgcHVycG9zZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVwZGF0ZWRUcmFuc2FjdGlvbkV2ZW50IHRoZSB1cGRhdGVkIHRyYW5zYWN0aW9uIGV2ZW50IG9iamVjdCwgcG9wdWxhdGVkIGJ5IHRoZVxuICAgICAqIGluaXRpYWwgZGV0YWlscyBwYXNzZWQgYnkgT2xpdmUgaW4gdGhlIHVwZGF0ZWQgd2ViaG9vayBjYWxsLiBUaGlzIG9iamVjdCB3aWxsIGJlIHVzZWRcbiAgICAgKiB0byBzZXQgZXZlbiBtb3JlIGluZm9ybWF0aW9uIGZvciBpdCwgb2J0YWluZWQgZnJvbSB0aGlzIHRyYW5zYWN0aW9uIGRldGFpbHMgY2FsbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSB7QGxpbmsgUHJvbWlzZX0gb2Yge0BsaW5rIFVwZGF0ZWRUcmFuc2FjdGlvbkV2ZW50UmVzcG9uc2V9IHJlcHJlc2VudGluZyB0aGVcbiAgICAgKiB1cGRhdGVkIHRyYW5zYWN0aW9uIGV2ZW50IG9iamVjdCwgcG9wdWxhdGVkIHdpdGggdGhlIGFkZGl0aW9uYWwgdHJhbnNhY3Rpb24gZGV0YWlsc1xuICAgICAqIHRoYXQgd2UgcmV0cmlldmVkXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFVwZGF0ZWRUcmFuc2FjdGlvbkRldGFpbHM/KHVwZGF0ZWRUcmFuc2FjdGlvbkV2ZW50OiBVcGRhdGVkVHJhbnNhY3Rpb25FdmVudCk6IFByb21pc2U8VXBkYXRlZFRyYW5zYWN0aW9uRXZlbnRSZXNwb25zZT47XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIGEgdXNlcidzIGNhcmQgbGlua2luZyBJRCwgZ2l2ZW4gdGhlaXIgTW9vbmJlYW1cbiAgICAgKiBpbnRlcm5hbCB1bmlxdWUgSUQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZ2V0VXNlckNhcmRMaW5raW5nSWRJbnB1dCB0aGUgaW5wdXQgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHVuaXF1ZSBNb29uYmVhbVxuICAgICAqIGludGVybmFsIElELCB0byBiZSB1c2VkIHdoaWxlIHJldHJpZXZpbmcgdGhlIHVzZXIncyBjYXJkIGxpbmtpbmcgSUQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEge0BsaW5rIFByb21pc2V9IG9mIHtAbGluayBHZXRVc2VyQ2FyZExpbmtpbmdJZFJlc3BvbnNlfSByZXByZXNlbnRpbmcgdGhlIHJlc3BvbnNlXG4gICAgICogb2JqZWN0LCBjb250YWluaW5nIHRoZSB1c2VyJ3MgY2FyZCBsaW5raW5nIGlkLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRVc2VyQ2FyZExpbmtpbmdJZD8oZ2V0VXNlckNhcmRMaW5raW5nSWRJbnB1dDogR2V0VXNlckNhcmRMaW5raW5nSWRJbnB1dCk6IFByb21pc2U8R2V0VXNlckNhcmRMaW5raW5nSWRSZXNwb25zZT47XG59XG4iXX0=