"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ReferralTrigger_1 = require("./resolvers/ReferralTrigger");
/**
 * Lambda Function handler, handling incoming cron referral events,
 * to be used to then trigger the referral process.
 *
 * @param event EventBridge cron-based event to be passed in the handler
 */
exports.handler = async (event) => {
    // information on the event bridge trigger event
    console.log(`Received new referral schedule cron trigger event, through EventBridge, with event detail [${JSON.stringify(event["detail-type"])}] and event replay [${JSON.stringify(event["replay-name"])}]`);
    // handle the referral triggered event
    await (0, ReferralTrigger_1.triggerReferral)();
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sYW1iZGEvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLGlFQUE0RDtBQUU1RDs7Ozs7R0FLRztBQUNILE9BQU8sQ0FBQyxPQUFPLEdBQUcsS0FBSyxFQUFFLEtBQTBELEVBQWlCLEVBQUU7SUFDbEcsZ0RBQWdEO0lBQ2hELE9BQU8sQ0FBQyxHQUFHLENBQUMsOEZBQThGLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLHVCQUF1QixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUU5TSxzQ0FBc0M7SUFDdEMsTUFBTSxJQUFBLGlDQUFlLEdBQUUsQ0FBQztBQUM1QixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0V2ZW50QnJpZGdlRXZlbnR9IGZyb20gXCJhd3MtbGFtYmRhXCI7XG5pbXBvcnQge3RyaWdnZXJSZWZlcnJhbH0gZnJvbSBcIi4vcmVzb2x2ZXJzL1JlZmVycmFsVHJpZ2dlclwiO1xuXG4vKipcbiAqIExhbWJkYSBGdW5jdGlvbiBoYW5kbGVyLCBoYW5kbGluZyBpbmNvbWluZyBjcm9uIHJlZmVycmFsIGV2ZW50cyxcbiAqIHRvIGJlIHVzZWQgdG8gdGhlbiB0cmlnZ2VyIHRoZSByZWZlcnJhbCBwcm9jZXNzLlxuICpcbiAqIEBwYXJhbSBldmVudCBFdmVudEJyaWRnZSBjcm9uLWJhc2VkIGV2ZW50IHRvIGJlIHBhc3NlZCBpbiB0aGUgaGFuZGxlclxuICovXG5leHBvcnRzLmhhbmRsZXIgPSBhc3luYyAoZXZlbnQ6IEV2ZW50QnJpZGdlRXZlbnQ8J1JlZmVycmFsRXZlbnQnLCAnUmVmZXJyYWxSZXBsYXknPik6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIC8vIGluZm9ybWF0aW9uIG9uIHRoZSBldmVudCBicmlkZ2UgdHJpZ2dlciBldmVudFxuICAgIGNvbnNvbGUubG9nKGBSZWNlaXZlZCBuZXcgcmVmZXJyYWwgc2NoZWR1bGUgY3JvbiB0cmlnZ2VyIGV2ZW50LCB0aHJvdWdoIEV2ZW50QnJpZGdlLCB3aXRoIGV2ZW50IGRldGFpbCBbJHtKU09OLnN0cmluZ2lmeShldmVudFtcImRldGFpbC10eXBlXCJdKX1dIGFuZCBldmVudCByZXBsYXkgWyR7SlNPTi5zdHJpbmdpZnkoZXZlbnRbXCJyZXBsYXktbmFtZVwiXSl9XWApO1xuXG4gICAgLy8gaGFuZGxlIHRoZSByZWZlcnJhbCB0cmlnZ2VyZWQgZXZlbnRcbiAgICBhd2FpdCB0cmlnZ2VyUmVmZXJyYWwoKTtcbn1cbiJdfQ==